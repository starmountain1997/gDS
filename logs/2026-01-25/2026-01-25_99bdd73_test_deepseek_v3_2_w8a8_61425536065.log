# Run ID: 21335604071
# Commit: 99bdd7363c89b2979c5474009c12a1b3ca769415
# Job: single-node (deepseek3_2-w8a8, linux-aarch64-a3-16, tests/e2e/nightly/single_node/models/test_dee... / tests/e2e/nightly/single_node/models/test_deepseek_v3_2_w8a8.py
# Date: 2026-01-25
============================================================

ï»¿2026-01-26T01:14:30.5233240Z Current runner version: '2.330.0'
2026-01-26T01:14:30.5240598Z Runner name: 'linux-aarch64-a3-16-r8zc8-runner-kjn8s'
2026-01-26T01:14:30.5241595Z Runner group name: 'Default'
2026-01-26T01:14:30.5242697Z Machine name: 'linux-aarch64-a3-16-r8zc8-runner-kjn8s'
2026-01-26T01:14:30.5248052Z ##[group]GITHUB_TOKEN Permissions
2026-01-26T01:14:30.5250605Z Actions: write
2026-01-26T01:14:30.5251283Z ArtifactMetadata: write
2026-01-26T01:14:30.5251922Z Attestations: write
2026-01-26T01:14:30.5252625Z Checks: write
2026-01-26T01:14:30.5253132Z Contents: write
2026-01-26T01:14:30.5253745Z Deployments: write
2026-01-26T01:14:30.5254303Z Discussions: write
2026-01-26T01:14:30.5255121Z Issues: write
2026-01-26T01:14:30.5255682Z Metadata: read
2026-01-26T01:14:30.5256255Z Models: read
2026-01-26T01:14:30.5256806Z Packages: write
2026-01-26T01:14:30.5257364Z Pages: write
2026-01-26T01:14:30.5257942Z PullRequests: write
2026-01-26T01:14:30.5258512Z RepositoryProjects: write
2026-01-26T01:14:30.5259347Z SecurityEvents: write
2026-01-26T01:14:30.5260033Z Statuses: write
2026-01-26T01:14:30.5260623Z ##[endgroup]
2026-01-26T01:14:30.5262993Z Secret source: Actions
2026-01-26T01:14:30.5263712Z Prepare workflow directory
2026-01-26T01:14:30.6112310Z Prepare all required actions
2026-01-26T01:14:30.6186426Z Uses: vllm-project/vllm-ascend/.github/workflows/_e2e_nightly_single_node.yaml@refs/heads/main (99bdd7363c89b2979c5474009c12a1b3ca769415)
2026-01-26T01:14:30.6192088Z ##[group] Inputs
2026-01-26T01:14:30.6192733Z   vllm: v0.14.1
2026-01-26T01:14:30.6193378Z   runner: linux-aarch64-a3-16
2026-01-26T01:14:30.6194368Z   image: swr.cn-southwest-2.myhuaweicloud.com/base_image/ascend-ci/vllm-ascend:nightly-a3
2026-01-26T01:14:30.6195914Z   tests: tests/e2e/nightly/single_node/models/test_deepseek_v3_2_w8a8.py
2026-01-26T01:14:30.6196873Z   name: deepseek3_2-w8a8
2026-01-26T01:14:30.6197532Z ##[endgroup]
2026-01-26T01:14:30.6199209Z Complete job name: single-node (deepseek3_2-w8a8, linux-aarch64-a3-16, tests/e2e/nightly/single_node/models/test_dee... / tests/e2e/nightly/single_node/models/test_deepseek_v3_2_w8a8.py
2026-01-26T01:14:30.6946586Z ##[group]Run '/home/runner/k8s/index.js'
2026-01-26T01:14:30.6957168Z shell: /home/runner/externals/node20/bin/node {0}
2026-01-26T01:14:30.6958451Z ##[endgroup]
2026-01-26T01:15:02.4709584Z (node:55) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
2026-01-26T01:15:03.1076757Z (Use `node --trace-deprecation ...` to show where the warning was created)
2026-01-26T01:15:20.7009712Z ##[group]Run npu-smi info
2026-01-26T01:15:20.7010162Z [36;1mnpu-smi info[0m
2026-01-26T01:15:20.7010715Z [36;1mcat /usr/local/Ascend/ascend-toolkit/latest/"$(uname -i)"-linux/ascend_toolkit_install.info[0m
2026-01-26T01:15:20.7011622Z shell: bash -el {0}
2026-01-26T01:15:20.7011857Z env:
2026-01-26T01:15:20.7012104Z   TRANSFORMERS_OFFLINE: 1
2026-01-26T01:15:20.7012383Z   VLLM_USE_MODELSCOPE: true
2026-01-26T01:15:20.7012679Z ##[endgroup]
2026-01-26T01:15:20.7207185Z ##[group]Run '/home/runner/k8s/index.js'
2026-01-26T01:15:20.7208919Z shell: /home/runner/externals/node20/bin/node {0}
2026-01-26T01:15:20.7209526Z ##[endgroup]
2026-01-26T01:15:21.2660924Z (node:276) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
2026-01-26T01:15:21.2662080Z (Use `node --trace-deprecation ...` to show where the warning was created)
2026-01-26T01:15:41.3288740Z +------------------------------------------------------------------------------------------------+
2026-01-26T01:15:41.3289461Z | npu-smi 25.2.1                   Version: 25.2.1                                               |
2026-01-26T01:15:41.3290061Z +---------------------------+---------------+----------------------------------------------------+
2026-01-26T01:15:41.3290673Z | NPU   Name                | Health        | Power(W)    Temp(C)           Hugepages-Usage(page)|
2026-01-26T01:15:41.3291835Z | Chip  Phy-ID              | Bus-Id        | AICore(%)   Memory-Usage(MB)  HBM-Usage(MB)        |
2026-01-26T01:15:41.3292493Z +===========================+===============+====================================================+
2026-01-26T01:15:41.3292998Z | 0     Ascend910           | OK            | 175.0       35                0    / 0             |
2026-01-26T01:15:41.3293526Z | 0     0                   | 0000:9D:00.0  | 0           0    / 0          3134 / 65536         |
2026-01-26T01:15:41.3294088Z +------------------------------------------------------------------------------------------------+
2026-01-26T01:15:41.3294691Z | 0     Ascend910           | OK            | -           36                0    / 0             |
2026-01-26T01:15:41.3295403Z | 1     1                   | 0000:9F:00.0  | 0           0    / 0          2893 / 65536         |
2026-01-26T01:15:41.3295887Z +===========================+===============+====================================================+
2026-01-26T01:15:41.3296907Z | 1     Ascend910           | OK            | 168.5       36                0    / 0             |
2026-01-26T01:15:41.3297428Z | 0     2                   | 0000:99:00.0  | 0           0    / 0          3135 / 65536         |
2026-01-26T01:15:41.3297991Z +------------------------------------------------------------------------------------------------+
2026-01-26T01:15:41.3298609Z | 1     Ascend910           | OK            | -           34                0    / 0             |
2026-01-26T01:15:41.3299118Z | 1     3                   | 0000:9B:00.0  | 0           0    / 0          2896 / 65536         |
2026-01-26T01:15:41.3299594Z +===========================+===============+====================================================+
2026-01-26T01:15:41.3300091Z | 2     Ascend910           | OK            | 165.6       36                0    / 0             |
2026-01-26T01:15:41.3300590Z | 0     4                   | 0000:95:00.0  | 0           0    / 0          3130 / 65536         |
2026-01-26T01:15:41.3301135Z +------------------------------------------------------------------------------------------------+
2026-01-26T01:15:41.3301680Z | 2     Ascend910           | OK            | -           36                0    / 0             |
2026-01-26T01:15:41.3302187Z | 1     5                   | 0000:97:00.0  | 0           0    / 0          2898 / 65536         |
2026-01-26T01:15:41.3302658Z +===========================+===============+====================================================+
2026-01-26T01:15:41.3303396Z | 3     Ascend910           | OK            | 166.2       36                0    / 0             |
2026-01-26T01:15:41.3303925Z | 0     6                   | 0000:91:00.0  | 0           0    / 0          3137 / 65536         |
2026-01-26T01:15:41.3304457Z +------------------------------------------------------------------------------------------------+
2026-01-26T01:15:41.3305359Z | 3     Ascend910           | OK            | -           35                0    / 0             |
2026-01-26T01:15:41.3305876Z | 1     7                   | 0000:93:00.0  | 0           0    / 0          2887 / 65536         |
2026-01-26T01:15:41.3306333Z +===========================+===============+====================================================+
2026-01-26T01:15:41.3306828Z | 4     Ascend910           | OK            | 176.4       37                0    / 0             |
2026-01-26T01:15:41.3307328Z | 0     8                   | 0000:8D:00.0  | 0           0    / 0          3138 / 65536         |
2026-01-26T01:15:41.3307873Z +------------------------------------------------------------------------------------------------+
2026-01-26T01:15:41.3308444Z | 4     Ascend910           | OK            | -           36                0    / 0             |
2026-01-26T01:15:41.3308940Z | 1     9                   | 0000:8F:00.0  | 0           0    / 0          2887 / 65536         |
2026-01-26T01:15:41.3309415Z +===========================+===============+====================================================+
2026-01-26T01:15:41.3310028Z | 5     Ascend910           | OK            | 170.0       35                0    / 0             |
2026-01-26T01:15:41.3310546Z | 0     10                  | 0000:89:00.0  | 0           0    / 0          3128 / 65536         |
2026-01-26T01:15:41.3311223Z +------------------------------------------------------------------------------------------------+
2026-01-26T01:15:41.3311773Z | 5     Ascend910           | OK            | -           36                0    / 0             |
2026-01-26T01:15:41.3312288Z | 1     11                  | 0000:8B:00.0  | 0           0    / 0          2897 / 65536         |
2026-01-26T01:15:41.6315706Z +===========================+===============+====================================================+
2026-01-26T01:15:41.6316342Z | 6     Ascend910           | OK            | 171.2       37                0    / 0             |
2026-01-26T01:15:41.6316866Z | 0     12                  | 0000:85:00.0  | 0           0    / 0          3135 / 65536         |
2026-01-26T01:15:41.6317460Z +------------------------------------------------------------------------------------------------+
2026-01-26T01:15:41.6318018Z | 6     Ascend910           | OK            | -           37                0    / 0             |
2026-01-26T01:15:41.6318530Z | 1     13                  | 0000:87:00.0  | 0           0    / 0          2896 / 65536         |
2026-01-26T01:15:41.6319003Z +===========================+===============+====================================================+
2026-01-26T01:15:41.6319497Z | 7     Ascend910           | OK            | 171.2       34                0    / 0             |
2026-01-26T01:15:41.6320010Z | 0     14                  | 0000:81:00.0  | 0           0    / 0          3131 / 65536         |
2026-01-26T01:15:41.6320545Z +------------------------------------------------------------------------------------------------+
2026-01-26T01:15:41.6321102Z | 7     Ascend910           | OK            | -           34                0    / 0             |
2026-01-26T01:15:41.6321642Z | 1     15                  | 0000:83:00.0  | 0           0    / 0          2893 / 65536         |
2026-01-26T01:15:41.6322104Z +===========================+===============+====================================================+
2026-01-26T01:15:41.6322627Z +---------------------------+---------------+----------------------------------------------------+
2026-01-26T01:15:41.6323231Z | NPU     Chip              | Process id    | Process name             | Process memory(MB)      |
2026-01-26T01:15:41.6324046Z +===========================+===============+====================================================+
2026-01-26T01:15:41.6324603Z | No running processes found in NPU 0                                                            |
2026-01-26T01:15:41.6325309Z +===========================+===============+====================================================+
2026-01-26T01:15:41.6325854Z | No running processes found in NPU 1                                                            |
2026-01-26T01:15:41.6326392Z +===========================+===============+====================================================+
2026-01-26T01:15:41.6326942Z | No running processes found in NPU 2                                                            |
2026-01-26T01:15:41.6327479Z +===========================+===============+====================================================+
2026-01-26T01:15:41.6328004Z | No running processes found in NPU 3                                                            |
2026-01-26T01:15:41.6328537Z +===========================+===============+====================================================+
2026-01-26T01:15:41.6329109Z | No running processes found in NPU 4                                                            |
2026-01-26T01:15:41.6329731Z +===========================+===============+====================================================+
2026-01-26T01:15:41.6330277Z | No running processes found in NPU 5                                                            |
2026-01-26T01:15:41.6331197Z +===========================+===============+====================================================+
2026-01-26T01:15:41.6331979Z | No running processes found in NPU 6                                                            |
2026-01-26T01:15:41.6332847Z +===========================+===============+====================================================+
2026-01-26T01:15:41.6333513Z | No running processes found in NPU 7                                                            |
2026-01-26T01:15:41.6334077Z +===========================+===============+====================================================+
2026-01-26T01:15:41.6403317Z package_name=Ascend-cann-toolkit
2026-01-26T01:15:41.6403736Z version=8.5.0
2026-01-26T01:15:41.6403999Z innerversion=V100R001C25SPC001B232
2026-01-26T01:15:41.6404533Z compatible_version=[V100R001C15],[V100R001C18],[V100R001C19],[V100R001C20],[V100R001C21],[V100R001C23]
2026-01-26T01:15:41.6405246Z arch=aarch64
2026-01-26T01:15:41.6405488Z os=linux
2026-01-26T01:15:41.6405719Z path=/usr/local/Ascend/cann-8.5.0
2026-01-26T01:15:59.4240602Z ##[group]Run echo "Installed vLLM-related Python packages:"
2026-01-26T01:15:59.4241320Z [36;1mecho "Installed vLLM-related Python packages:"[0m
2026-01-26T01:15:59.4241900Z [36;1mpip list | grep vllm || echo "No vllm packages found."[0m
2026-01-26T01:15:59.4242347Z [36;1m[0m
2026-01-26T01:15:59.4242644Z [36;1mecho ""[0m
2026-01-26T01:15:59.4242959Z [36;1mecho "============================"[0m
2026-01-26T01:15:59.4243452Z [36;1mecho "vLLM Git information"[0m
2026-01-26T01:15:59.4243804Z [36;1mecho "============================"[0m
2026-01-26T01:15:59.4244224Z [36;1mcd vllm[0m
2026-01-26T01:15:59.4244566Z [36;1mif [ -d .git ]; then[0m
2026-01-26T01:15:59.4245232Z [36;1m  echo "Branch:      $(git rev-parse --abbrev-ref HEAD)"[0m
2026-01-26T01:15:59.4245808Z [36;1m  echo "Commit hash: $(git rev-parse HEAD)"[0m
2026-01-26T01:15:59.4246311Z [36;1m  echo "Author:      $(git log -1 --pretty=format:'%an <%ae>')"[0m
2026-01-26T01:15:59.4247072Z [36;1m  echo "Date:        $(git log -1 --pretty=format:'%ad' --date=iso)"[0m
2026-01-26T01:15:59.4247645Z [36;1m  echo "Message:     $(git log -1 --pretty=format:'%s')"[0m
2026-01-26T01:15:59.4248220Z [36;1m  echo "Tags:        $(git tag --points-at HEAD || echo 'None')"[0m
2026-01-26T01:15:59.4248797Z [36;1m  echo "Remote:      $(git remote -v | head -n1)"[0m
2026-01-26T01:15:59.4249255Z [36;1m  echo ""[0m
2026-01-26T01:15:59.4249578Z [36;1melse[0m
2026-01-26T01:15:59.4249862Z [36;1m  echo "No .git directory found in vllm"[0m
2026-01-26T01:15:59.4250187Z [36;1mfi[0m
2026-01-26T01:15:59.4250406Z [36;1mcd ..[0m
2026-01-26T01:15:59.4250634Z [36;1m[0m
2026-01-26T01:15:59.4250847Z [36;1mecho ""[0m
2026-01-26T01:15:59.4251084Z [36;1mecho "============================"[0m
2026-01-26T01:15:59.4251438Z [36;1mecho "vLLM-Ascend Git information"[0m
2026-01-26T01:15:59.4251783Z [36;1mecho "============================"[0m
2026-01-26T01:15:59.4252097Z [36;1mcd vllm-ascend[0m
2026-01-26T01:15:59.4252387Z [36;1mif [ -d .git ]; then[0m
2026-01-26T01:15:59.4252744Z [36;1m  echo "Branch:      $(git rev-parse --abbrev-ref HEAD)"[0m
2026-01-26T01:15:59.4253192Z [36;1m  echo "Commit hash: $(git rev-parse HEAD)"[0m
2026-01-26T01:15:59.4253631Z [36;1m  echo "Author:      $(git log -1 --pretty=format:'%an <%ae>')"[0m
2026-01-26T01:15:59.4254151Z [36;1m  echo "Date:        $(git log -1 --pretty=format:'%ad' --date=iso)"[0m
2026-01-26T01:15:59.4254656Z [36;1m  echo "Message:     $(git log -1 --pretty=format:'%s')"[0m
2026-01-26T01:15:59.4255435Z [36;1m  echo "Tags:        $(git tag --points-at HEAD || echo 'None')"[0m
2026-01-26T01:15:59.4255914Z [36;1m  echo "Remote:      $(git remote -v | head -n1)"[0m
2026-01-26T01:15:59.4256266Z [36;1m  echo ""[0m
2026-01-26T01:15:59.4256505Z [36;1melse[0m
2026-01-26T01:15:59.4256785Z [36;1m  echo "No .git directory found in vllm-ascend"[0m
2026-01-26T01:15:59.4257388Z [36;1mfi[0m
2026-01-26T01:15:59.4257608Z [36;1mcd ..[0m
2026-01-26T01:15:59.4257990Z shell: bash -el {0}
2026-01-26T01:15:59.4258224Z env:
2026-01-26T01:15:59.4258437Z   TRANSFORMERS_OFFLINE: 1
2026-01-26T01:15:59.4258718Z   VLLM_USE_MODELSCOPE: true
2026-01-26T01:15:59.4258975Z ##[endgroup]
2026-01-26T01:15:59.4352827Z ##[group]Run '/home/runner/k8s/index.js'
2026-01-26T01:15:59.4353895Z shell: /home/runner/externals/node20/bin/node {0}
2026-01-26T01:15:59.4354234Z ##[endgroup]
2026-01-26T01:15:59.9783614Z (node:701) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
2026-01-26T01:15:59.9784706Z (Use `node --trace-deprecation ...` to show where the warning was created)
2026-01-26T01:16:18.4419225Z Installed vLLM-related Python packages:
2026-01-26T01:16:19.5366886Z ais_bench_benchmark               3.0.20250930                /vllm-workspace/vllm-ascend/benchmark
2026-01-26T01:16:19.5367653Z vllm                              0.14.0+empty                /vllm-workspace/vllm
2026-01-26T01:16:19.5368641Z vllm_ascend                       0.13.0rc2.dev331+g21833a432 /vllm-workspace/vllm-ascend
2026-01-26T01:16:19.5369021Z 
2026-01-26T01:16:19.5369114Z ============================
2026-01-26T01:16:19.5369373Z vLLM Git information
2026-01-26T01:16:19.5369616Z ============================
2026-01-26T01:16:19.5607274Z Branch:      HEAD
2026-01-26T01:16:19.5628764Z Commit hash: b17039bccc17b94a2ea107272ad7bc93508708df
2026-01-26T01:16:19.5701492Z Author:      Shengqi Chen <harry-chen@outlook.com>
2026-01-26T01:16:19.5725186Z Date:        2026-01-17 12:52:33 +0800
2026-01-26T01:16:19.5749499Z Message:     [CI] Implement uploading to PyPI and GitHub in the release pipeline, enable release image building for CUDA 13.0 (#31032)
2026-01-26T01:16:19.5774450Z Tags:        v0.14.0
2026-01-26T01:16:19.5807389Z Remote:      origin	https://gh-proxy.test.osinfra.cn/https://github.com/vllm-project/vllm.git (fetch)
2026-01-26T01:16:19.5807937Z 
2026-01-26T01:16:19.5807956Z 
2026-01-26T01:16:19.5808072Z ============================
2026-01-26T01:16:19.5808346Z vLLM-Ascend Git information
2026-01-26T01:16:19.5808615Z ============================
2026-01-26T01:16:19.5886389Z Branch:      main
2026-01-26T01:16:19.5907303Z Commit hash: 21833a4321f032fcdd1261a43b522bb8e08ef9f4
2026-01-26T01:16:19.6006393Z Author:      wangxiyuan <wangxiyuan1007@gmail.com>
2026-01-26T01:16:19.6014529Z Date:        2026-01-24 12:51:47 +0800
2026-01-26T01:16:19.6038340Z Message:     [Doc] Add release note for 0.13.0rc2 (#6207)
2026-01-26T01:16:19.6282945Z Tags:        
2026-01-26T01:16:19.6310523Z Remote:      origin	https://gh-proxy.test.osinfra.cn/https://github.com/vllm-project/vllm-ascend (fetch)
2026-01-26T01:16:19.6311081Z 
2026-01-26T01:16:37.6622290Z ##[group]Run apt-get update && apt-get -y install clang-15
2026-01-26T01:16:37.6622830Z [36;1mapt-get update && apt-get -y install clang-15[0m
2026-01-26T01:16:37.6623369Z [36;1mupdate-alternatives --install /usr/bin/clang clang /usr/bin/clang-15 20[0m
2026-01-26T01:16:37.6624067Z [36;1mupdate-alternatives --install /usr/bin/clang++ clang++ /usr/bin/clang++-15 20[0m
2026-01-26T01:16:37.6624715Z shell: bash -l {0}
2026-01-26T01:16:37.6625231Z env:
2026-01-26T01:16:37.6625467Z   TRANSFORMERS_OFFLINE: 1
2026-01-26T01:16:37.6625740Z   VLLM_USE_MODELSCOPE: true
2026-01-26T01:16:37.6626151Z ##[endgroup]
2026-01-26T01:16:37.6709893Z ##[group]Run '/home/runner/k8s/index.js'
2026-01-26T01:16:37.6711572Z shell: /home/runner/externals/node20/bin/node {0}
2026-01-26T01:16:37.6712206Z ##[endgroup]
2026-01-26T01:16:38.2122188Z (node:1307) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
2026-01-26T01:16:38.2123293Z (Use `node --trace-deprecation ...` to show where the warning was created)
2026-01-26T01:16:57.6169764Z Get:1 http://ports.ubuntu.com/ubuntu-ports jammy InRelease [270 kB]
2026-01-26T01:16:58.8573846Z Get:2 http://ports.ubuntu.com/ubuntu-ports jammy-updates InRelease [128 kB]
2026-01-26T01:16:59.1643028Z Get:3 http://ports.ubuntu.com/ubuntu-ports jammy-backports InRelease [127 kB]
2026-01-26T01:16:59.4726102Z Get:4 http://ports.ubuntu.com/ubuntu-ports jammy-security InRelease [129 kB]
2026-01-26T01:16:59.7845952Z Get:5 http://ports.ubuntu.com/ubuntu-ports jammy/universe arm64 Packages [17.2 MB]
2026-01-26T01:17:02.3668973Z Get:6 http://ports.ubuntu.com/ubuntu-ports jammy/main arm64 Packages [1758 kB]
2026-01-26T01:17:02.5358864Z Get:7 http://ports.ubuntu.com/ubuntu-ports jammy/multiverse arm64 Packages [224 kB]
2026-01-26T01:17:02.5517612Z Get:8 http://ports.ubuntu.com/ubuntu-ports jammy/restricted arm64 Packages [24.2 kB]
2026-01-26T01:17:02.5540035Z Get:9 http://ports.ubuntu.com/ubuntu-ports jammy-updates/multiverse arm64 Packages [63.5 kB]
2026-01-26T01:17:02.5581735Z Get:10 http://ports.ubuntu.com/ubuntu-ports jammy-updates/main arm64 Packages [3726 kB]
2026-01-26T01:17:02.8295952Z Get:11 http://ports.ubuntu.com/ubuntu-ports jammy-updates/universe arm64 Packages [1636 kB]
2026-01-26T01:17:02.9488961Z Get:12 http://ports.ubuntu.com/ubuntu-ports jammy-updates/restricted arm64 Packages [6176 kB]
2026-01-26T01:17:03.3994416Z Get:13 http://ports.ubuntu.com/ubuntu-ports jammy-backports/main arm64 Packages [83.5 kB]
2026-01-26T01:17:03.4086264Z Get:14 http://ports.ubuntu.com/ubuntu-ports jammy-backports/universe arm64 Packages [35.3 kB]
2026-01-26T01:17:03.4087270Z Get:15 http://ports.ubuntu.com/ubuntu-ports jammy-security/main arm64 Packages [3409 kB]
2026-01-26T01:17:03.6525178Z Get:16 http://ports.ubuntu.com/ubuntu-ports jammy-security/restricted arm64 Packages [5886 kB]
2026-01-26T01:17:04.0807896Z Get:17 http://ports.ubuntu.com/ubuntu-ports jammy-security/multiverse arm64 Packages [40.2 kB]
2026-01-26T01:17:04.0816970Z Get:18 http://ports.ubuntu.com/ubuntu-ports jammy-security/universe arm64 Packages [1334 kB]
2026-01-26T01:17:04.3637017Z Fetched 42.3 MB in 7s (5831 kB/s)
2026-01-26T01:17:05.2648283Z Reading package lists...
2026-01-26T01:17:06.2361109Z Reading package lists...
2026-01-26T01:17:06.4979522Z Building dependency tree...
2026-01-26T01:17:06.4986415Z Reading state information...
2026-01-26T01:17:06.7761810Z clang-15 is already the newest version (1:15.0.7-0ubuntu0.22.04.3).
2026-01-26T01:17:06.7762455Z The following packages were automatically installed and are no longer required:
2026-01-26T01:17:06.7763109Z   autoconf automake autotools-dev file javascript-common libboost-atomic-dev
2026-01-26T01:17:06.7764040Z   libboost-atomic1.74-dev libboost-atomic1.74.0 libboost-chrono-dev
2026-01-26T01:17:06.7764634Z   libboost-chrono1.74-dev libboost-chrono1.74.0 libboost-container-dev
2026-01-26T01:17:06.7766072Z   libboost-container1.74-dev libboost-container1.74.0 libboost-context-dev
2026-01-26T01:17:06.7766709Z   libboost-context1.74-dev libboost-context1.74.0 libboost-coroutine-dev
2026-01-26T01:17:06.7767372Z   libboost-coroutine1.74-dev libboost-coroutine1.74.0 libboost-date-time-dev
2026-01-26T01:17:06.7767980Z   libboost-date-time1.74-dev libboost-date-time1.74.0 libboost-dev
2026-01-26T01:17:06.7768565Z   libboost-exception-dev libboost-exception1.74-dev libboost-fiber-dev
2026-01-26T01:17:06.7769516Z   libboost-fiber1.74-dev libboost-fiber1.74.0 libboost-filesystem-dev
2026-01-26T01:17:06.7770414Z   libboost-filesystem1.74-dev libboost-filesystem1.74.0 libboost-graph-dev
2026-01-26T01:17:06.7771012Z   libboost-graph-parallel-dev libboost-graph-parallel1.74-dev
2026-01-26T01:17:06.7771597Z   libboost-graph-parallel1.74.0 libboost-graph1.74-dev libboost-graph1.74.0
2026-01-26T01:17:06.7853324Z   libboost-iostreams-dev libboost-iostreams1.74-dev libboost-iostreams1.74.0
2026-01-26T01:17:06.7854061Z   libboost-locale-dev libboost-locale1.74-dev libboost-locale1.74.0
2026-01-26T01:17:06.7854662Z   libboost-log-dev libboost-log1.74-dev libboost-log1.74.0 libboost-math-dev
2026-01-26T01:17:06.7855508Z   libboost-math1.74-dev libboost-math1.74.0 libboost-mpi1.74.0
2026-01-26T01:17:06.7857028Z   libboost-nowide-dev libboost-nowide1.74-dev libboost-nowide1.74.0
2026-01-26T01:17:06.7857772Z   libboost-numpy-dev libboost-numpy1.74-dev libboost-numpy1.74.0
2026-01-26T01:17:06.7858330Z   libboost-program-options-dev libboost-program-options1.74-dev
2026-01-26T01:17:06.7858940Z   libboost-program-options1.74.0 libboost-python-dev libboost-python1.74-dev
2026-01-26T01:17:06.7859566Z   libboost-python1.74.0 libboost-random-dev libboost-random1.74-dev
2026-01-26T01:17:06.7860128Z   libboost-random1.74.0 libboost-regex-dev libboost-regex1.74-dev
2026-01-26T01:17:06.7860617Z   libboost-regex1.74.0 libboost-serialization-dev
2026-01-26T01:17:06.7861084Z   libboost-serialization1.74-dev libboost-serialization1.74.0
2026-01-26T01:17:06.7861589Z   libboost-stacktrace-dev libboost-stacktrace1.74-dev
2026-01-26T01:17:06.7862121Z   libboost-stacktrace1.74.0 libboost-system-dev libboost-system1.74-dev
2026-01-26T01:17:06.7862680Z   libboost-system1.74.0 libboost-test-dev libboost-test1.74-dev
2026-01-26T01:17:06.7863225Z   libboost-test1.74.0 libboost-thread-dev libboost-thread1.74-dev
2026-01-26T01:17:06.7863754Z   libboost-thread1.74.0 libboost-timer-dev libboost-timer1.74-dev
2026-01-26T01:17:06.7864306Z   libboost-timer1.74.0 libboost-tools-dev libboost-type-erasure-dev
2026-01-26T01:17:06.7865086Z   libboost-type-erasure1.74-dev libboost-type-erasure1.74.0 libboost-wave-dev
2026-01-26T01:17:06.7865677Z   libboost-wave1.74-dev libboost-wave1.74.0 libboost1.74-dev
2026-01-26T01:17:06.7866239Z   libboost1.74-tools-dev libcaf-openmpi-3 libcoarrays-dev libevent-2.1-7
2026-01-26T01:17:06.7867123Z   libevent-core-2.1-7 libevent-dev libevent-extra-2.1-7 libevent-openssl-2.1-7
2026-01-26T01:17:06.7867773Z   libevent-pthreads-2.1-7 libhwloc-dev libjs-jquery libjs-jquery-ui
2026-01-26T01:17:06.7868373Z   libjs-sphinxdoc libjs-underscore libltdl-dev libltdl7 libmagic-mgc libmagic1
2026-01-26T01:17:06.7869236Z   libopenmpi3 libpmix-dev libpmix2 libsigsegv2 libtool libucx0 m4
2026-01-26T01:17:06.7869931Z   openmpi-common python3-dev python3-distutils python3-lib2to3 python3.10-dev
2026-01-26T01:17:06.7870677Z Use 'apt autoremove' to remove them.
2026-01-26T01:17:06.8079332Z 0 upgraded, 0 newly installed, 0 to remove and 5 not upgraded.
2026-01-26T01:17:25.4799419Z ##[group]Run # ignore test_dispatch_ffn_combine until the test is fixed
2026-01-26T01:17:25.4800053Z [36;1m# ignore test_dispatch_ffn_combine until the test is fixed[0m
2026-01-26T01:17:25.4800641Z [36;1mpytest -sv tests/e2e/nightly/single_node/models/test_deepseek_v3_2_w8a8.py \[0m
2026-01-26T01:17:25.4801318Z [36;1m--ignore=tests/e2e/nightly/single_node/ops/singlecard_ops/test_fused_moe.py[0m
2026-01-26T01:17:25.4801935Z shell: bash -el {0}
2026-01-26T01:17:25.4802177Z env:
2026-01-26T01:17:25.4802392Z   TRANSFORMERS_OFFLINE: 1
2026-01-26T01:17:25.4802672Z   VLLM_USE_MODELSCOPE: true
2026-01-26T01:17:25.4802973Z   VLLM_WORKER_MULTIPROC_METHOD: spawn
2026-01-26T01:17:25.4803297Z   VLLM_CI_RUNNER: linux-aarch64-a3-16
2026-01-26T01:17:25.4803693Z   BENCHMARK_HOME: /vllm-workspace/vllm-ascend/benchmark
2026-01-26T01:17:25.4804050Z ##[endgroup]
2026-01-26T01:17:25.4892728Z ##[group]Run '/home/runner/k8s/index.js'
2026-01-26T01:17:25.4893817Z shell: /home/runner/externals/node20/bin/node {0}
2026-01-26T01:17:25.4894169Z ##[endgroup]
2026-01-26T01:17:26.0526403Z (node:2091) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
2026-01-26T01:17:26.0527502Z (Use `node --trace-deprecation ...` to show where the warning was created)
2026-01-26T01:17:58.6458143Z INFO 01-26 01:17:58 [__init__.py:43] Available plugins for group vllm.platform_plugins:
2026-01-26T01:17:58.6458794Z INFO 01-26 01:17:58 [__init__.py:45] - ascend -> vllm_ascend:register
2026-01-26T01:17:58.6459510Z INFO 01-26 01:17:58 [__init__.py:48] All plugins in this group will be loaded. Set `VLLM_PLUGINS` to control which plugins to load.
2026-01-26T01:17:58.6941423Z INFO 01-26 01:17:58 [__init__.py:217] Platform plugin ascend is activated
2026-01-26T01:18:05.1960311Z ============================= test session starts ==============================
2026-01-26T01:18:05.1961155Z platform linux -- Python 3.11.14, pytest-8.4.2, pluggy-1.6.0 -- /usr/local/python3.11.14/bin/python3
2026-01-26T01:18:05.1961708Z cachedir: .pytest_cache
2026-01-26T01:18:05.1961990Z rootdir: /vllm-workspace/vllm-ascend
2026-01-26T01:18:05.1962323Z configfile: pyproject.toml
2026-01-26T01:18:05.1962679Z plugins: mock-3.15.1, asyncio-1.3.0, cov-7.0.0, anyio-4.12.1
2026-01-26T01:18:05.1963398Z asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
2026-01-26T01:18:06.0033269Z collecting ... collected 1 item
2026-01-26T01:18:06.0033557Z 
2026-01-26T01:18:06.0051731Z [2026-01-26 01:18:06] INFO conftest.py:231: Starting server with command: vllm serve vllm-ascend/DeepSeek-V3.2-W8A8 --enable-expert-parallel --tensor-parallel-size 8 --data-parallel-size 2 --port 42629 --max-model-len 8192 --max-num-batched-tokens 8192 --max-num-seqs 4 --trust-remote-code --quantization ascend --gpu-memory-utilization 0.92 --compilation-config {"cudagraph_capture_sizes":[3, 6, 9, 12], "cudagraph_mode":"FULL_DECODE_ONLY"} --speculative-config {"num_speculative_tokens": 2, "method":"deepseek_mtp"} --additional-config {"layer_sharding": ["q_b_proj", "o_proj"]} --reasoning-parser deepseek_v3 --tokenizer_mode deepseek_v32
2026-01-26T01:18:10.6650008Z tests/e2e/nightly/single_node/models/test_deepseek_v3_2_w8a8.py::test_models[2-8-vllm-ascend/DeepSeek-V3.2-W8A8] INFO 01-26 01:18:10 [__init__.py:43] Available plugins for group vllm.platform_plugins:
2026-01-26T01:18:10.6651103Z INFO 01-26 01:18:10 [__init__.py:45] - ascend -> vllm_ascend:register
2026-01-26T01:18:10.6651861Z INFO 01-26 01:18:10 [__init__.py:48] All plugins in this group will be loaded. Set `VLLM_PLUGINS` to control which plugins to load.
2026-01-26T01:18:10.6723257Z INFO 01-26 01:18:10 [__init__.py:217] Platform plugin ascend is activated
2026-01-26T01:18:16.8858418Z 2026-01-26 01:18:16,884 - 3870 - vllmProfiler - INFO - VLLM_USE_V1 not set, auto-detected via vLLM 0.14.0+empty: default 1
2026-01-26T01:18:16.9185922Z INFO 01-26 01:18:16 [__init__.py:108] Registered model loader `<class 'vllm_ascend.model_loader.netloader.netloader.ModelNetLoaderElastic'>` with load format `netloader`
2026-01-26T01:18:17.1389342Z [0;36m(APIServer pid=3870)[0;0m INFO 01-26 01:18:17 [api_server.py:1272] vLLM API server version 0.14.0
2026-01-26T01:18:17.1397086Z [0;36m(APIServer pid=3870)[0;0m INFO 01-26 01:18:17 [utils.py:263] non-default args: {'model_tag': 'vllm-ascend/DeepSeek-V3.2-W8A8', 'port': 42629, 'model': 'vllm-ascend/DeepSeek-V3.2-W8A8', 'tokenizer_mode': 'deepseek_v32', 'trust_remote_code': True, 'max_model_len': 8192, 'quantization': 'ascend', 'reasoning_parser': 'deepseek_v3', 'tensor_parallel_size': 8, 'data_parallel_size': 2, 'enable_expert_parallel': True, 'gpu_memory_utilization': 0.92, 'max_num_batched_tokens': 8192, 'max_num_seqs': 4, 'speculative_config': {'num_speculative_tokens': 2, 'method': 'deepseek_mtp'}, 'compilation_config': {'level': None, 'mode': None, 'debug_dump_path': None, 'cache_dir': '', 'compile_cache_save_format': 'binary', 'backend': 'vllm_ascend.compilation.compiler_interface.AscendCompiler', 'custom_ops': [], 'splitting_ops': None, 'compile_mm_encoder': False, 'compile_sizes': None, 'compile_ranges_split_points': None, 'inductor_compile_config': {'enable_auto_functionalized_v2': False, 'combo_kernels': True, 'benchmark_combo_kernel': True}, 'inductor_passes': {}, 'cudagraph_mode': <CUDAGraphMode.FULL_DECODE_ONLY: (2, 0)>, 'cudagraph_num_of_warmups': 0, 'cudagraph_capture_sizes': [3, 6, 9, 12], 'cudagraph_copy_inputs': False, 'cudagraph_specialize_lora': True, 'use_inductor_graph_partition': None, 'pass_config': {}, 'max_cudagraph_capture_size': None, 'dynamic_shapes_config': {'type': <DynamicShapesType.BACKED: 'backed'>, 'evaluate_guards': False, 'assume_32_bit_indexing': True}, 'local_cache_dir': None}, 'additional_config': {'layer_sharding': ['q_b_proj', 'o_proj']}}
2026-01-26T01:18:17.1803001Z [0;36m(APIServer pid=3870)[0;0m 2026-01-26 01:18:17,179 - modelscope - WARNING - We can not confirm the cached file is for revision: master
2026-01-26T01:18:17.1804672Z [0;36m(APIServer pid=3870)[0;0m INFO 01-26 01:18:17 [arg_utils.py:603] HF_HUB_OFFLINE is True, replace model_id [vllm-ascend/DeepSeek-V3.2-W8A8] to model_path [/root/.cache/modelscope/hub/models/vllm-ascend/DeepSeek-V3___2-W8A8]
2026-01-26T01:18:17.1811443Z [0;36m(APIServer pid=3870)[0;0m The argument `trust_remote_code` is to be used with Auto classes. It has no effect here and is ignored.
2026-01-26T01:18:17.1812824Z [0;36m(APIServer pid=3870)[0;0m [2026-01-26 01:18:17] WARNING configuration_utils.py:697: The argument `trust_remote_code` is to be used with Auto classes. It has no effect here and is ignored.
2026-01-26T01:18:17.1867697Z [0;36m(APIServer pid=3870)[0;0m The argument `trust_remote_code` is to be used with Auto classes. It has no effect here and is ignored.
2026-01-26T01:18:17.1869102Z [0;36m(APIServer pid=3870)[0;0m [2026-01-26 01:18:17] WARNING configuration_utils.py:697: The argument `trust_remote_code` is to be used with Auto classes. It has no effect here and is ignored.
2026-01-26T01:18:17.1875598Z [0;36m(APIServer pid=3870)[0;0m The argument `trust_remote_code` is to be used with Auto classes. It has no effect here and is ignored.
2026-01-26T01:18:17.1876981Z [0;36m(APIServer pid=3870)[0;0m [2026-01-26 01:18:17] WARNING configuration_utils.py:697: The argument `trust_remote_code` is to be used with Auto classes. It has no effect here and is ignored.
2026-01-26T01:18:17.1882384Z [0;36m(APIServer pid=3870)[0;0m You are using a model of type deepseek_v32 to instantiate a model of type deepseek_v3. This is not supported for all configurations of models and can yield errors.
2026-01-26T01:18:17.1884290Z [0;36m(APIServer pid=3870)[0;0m [2026-01-26 01:18:17] WARNING configuration_utils.py:635: You are using a model of type deepseek_v32 to instantiate a model of type deepseek_v3. This is not supported for all configurations of models and can yield errors.
2026-01-26T01:18:17.2078995Z [0;36m(APIServer pid=3870)[0;0m INFO 01-26 01:18:17 [model.py:530] Resolved architecture: DeepseekV32ForCausalLM
2026-01-26T01:18:17.2079859Z [0;36m(APIServer pid=3870)[0;0m INFO 01-26 01:18:17 [model.py:1545] Using max model len 8192
2026-01-26T01:18:17.4995734Z [0;36m(APIServer pid=3870)[0;0m WARNING 01-26 01:18:17 [speculative.py:254] method `deepseek_mtp` is deprecated and replaced with mtp.
2026-01-26T01:18:17.4997476Z [0;36m(APIServer pid=3870)[0;0m The argument `trust_remote_code` is to be used with Auto classes. It has no effect here and is ignored.
2026-01-26T01:18:17.4998879Z [0;36m(APIServer pid=3870)[0;0m [2026-01-26 01:18:17] WARNING configuration_utils.py:697: The argument `trust_remote_code` is to be used with Auto classes. It has no effect here and is ignored.
2026-01-26T01:18:17.5011653Z [0;36m(APIServer pid=3870)[0;0m The argument `trust_remote_code` is to be used with Auto classes. It has no effect here and is ignored.
2026-01-26T01:18:17.5013071Z [0;36m(APIServer pid=3870)[0;0m [2026-01-26 01:18:17] WARNING configuration_utils.py:697: The argument `trust_remote_code` is to be used with Auto classes. It has no effect here and is ignored.
2026-01-26T01:18:17.5030558Z [0;36m(APIServer pid=3870)[0;0m You are using a model of type deepseek_v32 to instantiate a model of type deepseek_v3. This is not supported for all configurations of models and can yield errors.
2026-01-26T01:18:17.5032481Z [0;36m(APIServer pid=3870)[0;0m [2026-01-26 01:18:17] WARNING configuration_utils.py:635: You are using a model of type deepseek_v32 to instantiate a model of type deepseek_v3. This is not supported for all configurations of models and can yield errors.
2026-01-26T01:18:17.5117665Z [0;36m(APIServer pid=3870)[0;0m INFO 01-26 01:18:17 [model.py:530] Resolved architecture: DeepSeekMTPModel
2026-01-26T01:18:17.5119201Z [0;36m(APIServer pid=3870)[0;0m INFO 01-26 01:18:17 [model.py:1545] Using max model len 163840
2026-01-26T01:18:17.5120517Z [0;36m(APIServer pid=3870)[0;0m WARNING 01-26 01:18:17 [speculative.py:372] Enabling num_speculative_tokens > 1 will runmultiple times of forward on same MTP layer,which may result in lower acceptance rate
2026-01-26T01:18:17.5122393Z [0;36m(APIServer pid=3870)[0;0m INFO 01-26 01:18:17 [scheduler.py:229] Chunked prefill is enabled with max_num_batched_tokens=8192.
2026-01-26T01:18:17.8429669Z [0;36m(APIServer pid=3870)[0;0m INFO 01-26 01:18:17 [vllm.py:630] Asynchronous scheduling is enabled.
2026-01-26T01:18:17.8430688Z [0;36m(APIServer pid=3870)[0;0m INFO 01-26 01:18:17 [vllm.py:637] Disabling NCCL for DP synchronization when using async scheduling.
2026-01-26T01:18:17.8432072Z [0;36m(APIServer pid=3870)[0;0m WARNING 01-26 01:18:17 [platform.py:719] Speculative quantization is set but Ascend automatically uses the main model's quantization method. Resetting to None.
2026-01-26T01:18:17.8434230Z [0;36m(APIServer pid=3870)[0;0m INFO 01-26 01:18:17 [ascend_config.py:56] Linear layer sharding enabled with config: ['q_b_proj', 'o_proj']. Note: This feature works optimally with FLASHCOMM2 and DSA-CP enabled; using it without these features may result in significant performance degradation.
2026-01-26T01:18:17.8436499Z [0;36m(APIServer pid=3870)[0;0m WARNING 01-26 01:18:17 [vllm.py:1054] Batch sizes [3, 6, 9, 12] are removed because they are not multiple of tp_size 8 when sequence parallelism is enabled
2026-01-26T01:18:17.8454579Z [0;36m(APIServer pid=3870)[0;0m Traceback (most recent call last):
2026-01-26T01:18:17.8455443Z [0;36m(APIServer pid=3870)[0;0m   File "/usr/local/python3.11.14/bin/vllm", line 7, in <module>
2026-01-26T01:18:17.8456047Z [0;36m(APIServer pid=3870)[0;0m     sys.exit(main())
2026-01-26T01:18:17.8456506Z [0;36m(APIServer pid=3870)[0;0m              ^^^^^^
2026-01-26T01:18:17.8457199Z [0;36m(APIServer pid=3870)[0;0m   File "/vllm-workspace/vllm/vllm/entrypoints/cli/main.py", line 73, in main
2026-01-26T01:18:17.8457951Z [0;36m(APIServer pid=3870)[0;0m     args.dispatch_function(args)
2026-01-26T01:18:17.8458986Z [0;36m(APIServer pid=3870)[0;0m   File "/vllm-workspace/vllm/vllm/entrypoints/cli/serve.py", line 60, in cmd
2026-01-26T01:18:17.8459733Z [0;36m(APIServer pid=3870)[0;0m     uvloop.run(run_server(args))
2026-01-26T01:18:17.8460598Z [0;36m(APIServer pid=3870)[0;0m   File "/usr/local/python3.11.14/lib/python3.11/site-packages/uvloop/__init__.py", line 92, in run
2026-01-26T01:18:17.8463929Z [0;36m(APIServer pid=3870)[0;0m     return runner.run(wrapper())
2026-01-26T01:18:17.8464484Z [0;36m(APIServer pid=3870)[0;0m            ^^^^^^^^^^^^^^^^^^^^^
2026-01-26T01:18:17.8465429Z [0;36m(APIServer pid=3870)[0;0m   File "/usr/local/python3.11.14/lib/python3.11/asyncio/runners.py", line 118, in run
2026-01-26T01:18:17.8469325Z [0;36m(APIServer pid=3870)[0;0m     return self._loop.run_until_complete(task)
2026-01-26T01:18:17.8469968Z [0;36m(APIServer pid=3870)[0;0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-26T01:18:17.8470728Z [0;36m(APIServer pid=3870)[0;0m   File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
2026-01-26T01:18:17.8473497Z [0;36m(APIServer pid=3870)[0;0m   File "/usr/local/python3.11.14/lib/python3.11/site-packages/uvloop/__init__.py", line 48, in wrapper
2026-01-26T01:18:17.8474374Z [0;36m(APIServer pid=3870)[0;0m     return await main
2026-01-26T01:18:17.8474979Z [0;36m(APIServer pid=3870)[0;0m            ^^^^^^^^^^
2026-01-26T01:18:17.8475776Z [0;36m(APIServer pid=3870)[0;0m   File "/vllm-workspace/vllm/vllm/entrypoints/openai/api_server.py", line 1319, in run_server
2026-01-26T01:18:17.8477083Z [0;36m(APIServer pid=3870)[0;0m     await run_server_worker(listen_address, sock, args, **uvicorn_kwargs)
2026-01-26T01:18:17.8478506Z [0;36m(APIServer pid=3870)[0;0m   File "/vllm-workspace/vllm/vllm/entrypoints/openai/api_server.py", line 1338, in run_server_worker
2026-01-26T01:18:17.8479555Z [0;36m(APIServer pid=3870)[0;0m     async with build_async_engine_client(
2026-01-26T01:18:17.8480376Z [0;36m(APIServer pid=3870)[0;0m   File "/usr/local/python3.11.14/lib/python3.11/contextlib.py", line 210, in __aenter__
2026-01-26T01:18:17.8481397Z [0;36m(APIServer pid=3870)[0;0m     return await anext(self.gen)
2026-01-26T01:18:17.8481942Z [0;36m(APIServer pid=3870)[0;0m            ^^^^^^^^^^^^^^^^^^^^^
2026-01-26T01:18:17.8482826Z [0;36m(APIServer pid=3870)[0;0m   File "/vllm-workspace/vllm/vllm/entrypoints/openai/api_server.py", line 173, in build_async_engine_client
2026-01-26T01:18:17.8483792Z [0;36m(APIServer pid=3870)[0;0m     async with build_async_engine_client_from_engine_args(
2026-01-26T01:18:17.8484810Z [0;36m(APIServer pid=3870)[0;0m   File "/usr/local/python3.11.14/lib/python3.11/contextlib.py", line 210, in __aenter__
2026-01-26T01:18:17.8485652Z [0;36m(APIServer pid=3870)[0;0m     return await anext(self.gen)
2026-01-26T01:18:17.8486190Z [0;36m(APIServer pid=3870)[0;0m            ^^^^^^^^^^^^^^^^^^^^^
2026-01-26T01:18:17.8487155Z [0;36m(APIServer pid=3870)[0;0m   File "/vllm-workspace/vllm/vllm/entrypoints/openai/api_server.py", line 199, in build_async_engine_client_from_engine_args
2026-01-26T01:18:17.8488277Z [0;36m(APIServer pid=3870)[0;0m     vllm_config = engine_args.create_engine_config(usage_context=usage_context)
2026-01-26T01:18:17.8489097Z [0;36m(APIServer pid=3870)[0;0m                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-26T01:18:17.8489974Z [0;36m(APIServer pid=3870)[0;0m   File "/vllm-workspace/vllm/vllm/engine/arg_utils.py", line 1748, in create_engine_config
2026-01-26T01:18:17.8490733Z [0;36m(APIServer pid=3870)[0;0m     config = VllmConfig(
2026-01-26T01:18:17.8491199Z [0;36m(APIServer pid=3870)[0;0m              ^^^^^^^^^^^
2026-01-26T01:18:17.8492127Z [0;36m(APIServer pid=3870)[0;0m   File "/usr/local/python3.11.14/lib/python3.11/site-packages/pydantic/_internal/_dataclasses.py", line 121, in __init__
2026-01-26T01:18:17.8493683Z [0;36m(APIServer pid=3870)[0;0m     s.__pydantic_validator__.validate_python(ArgsKwargs(args, kwargs), self_instance=s)
2026-01-26T01:18:17.8526508Z [0;36m(APIServer pid=3870)[0;0m pydantic_core._pydantic_core.ValidationError: 1 validation error for VllmConfig
2026-01-26T01:18:17.8528178Z [0;36m(APIServer pid=3870)[0;0m   Assertion failed, cudagraph_capture_sizes [3, 6, 9, 12] does not containvalues that are multiples of tp_size 8 [type=assertion_error, input_value=ArgsKwargs((), {'model_co...timizationLevel.O2: 2>}), input_type=ArgsKwargs]
2026-01-26T01:18:17.8529761Z [0;36m(APIServer pid=3870)[0;0m     For further information visit https://errors.pydantic.dev/2.12/v/assertion_error
2026-01-26T01:18:17.9237325Z [0;36m(APIServer pid=3870)[0;0m [ERROR] 2026-01-26-01:18:17 (PID:3870, Device:-1, RankID:-1) ERR99999 UNKNOWN applicaiton exception
2026-01-26T01:18:18.2247937Z [0;36m(APIServer pid=3870)[0;0m sys:1: DeprecationWarning: builtin type swigvarlink has no __module__ attribute
2026-01-26T01:18:22.2937531Z FAILED
2026-01-26T01:18:22.2937752Z 
2026-01-26T01:18:22.2938024Z =================================== FAILURES ===================================
2026-01-26T01:18:22.2938658Z _______________ test_models[2-8-vllm-ascend/DeepSeek-V3.2-W8A8] ________________
2026-01-26T01:18:22.2939008Z 
2026-01-26T01:18:22.2939225Z model = 'vllm-ascend/DeepSeek-V3.2-W8A8', tp_size = 8, dp_size = 2
2026-01-26T01:18:22.2939543Z 
2026-01-26T01:18:22.2939650Z     @pytest.mark.asyncio
2026-01-26T01:18:22.2939968Z     @pytest.mark.parametrize("model", MODELS)
2026-01-26T01:18:22.2940370Z     @pytest.mark.parametrize("tp_size", TENSOR_PARALLELS)
2026-01-26T01:18:22.2940821Z     @pytest.mark.parametrize("dp_size", DATA_PARALLELS)
2026-01-26T01:18:22.2941332Z     async def test_models(model: str, tp_size: int, dp_size: int) -> None:
2026-01-26T01:18:22.2941767Z         port = get_open_port()
2026-01-26T01:18:22.2942045Z         env_dict = {
2026-01-26T01:18:22.2942298Z             "HCCL_OP_EXPANSION_MODE": "AIV",
2026-01-26T01:18:22.2943458Z             "OMP_PROC_BIND": "false",
2026-01-26T01:18:22.2943911Z             "OMP_NUM_THREADS": "1",
2026-01-26T01:18:22.2944220Z             "HCCL_BUFFSIZE": "1024",
2026-01-26T01:18:22.2944534Z             "VLLM_ASCEND_ENABLE_MLAPO": "1",
2026-01-26T01:18:22.2945137Z             "PYTORCH_NPU_ALLOC_CONF": "expandable_segments:True",
2026-01-26T01:18:22.2945561Z             "VLLM_ASCEND_ENABLE_FLASHCOMM1": "1",
2026-01-26T01:18:22.2945870Z         }
2026-01-26T01:18:22.2946075Z     
2026-01-26T01:18:22.2946383Z         server_args = [
2026-01-26T01:18:22.2946943Z             "--enable-expert-parallel", "--tensor-parallel-size",
2026-01-26T01:18:22.2947591Z             str(tp_size), "--data-parallel-size",
2026-01-26T01:18:22.2947934Z             str(dp_size), "--port",
2026-01-26T01:18:22.2948328Z             str(port), "--max-model-len", "8192", "--max-num-batched-tokens",
2026-01-26T01:18:22.2948879Z             "8192", "--max-num-seqs", "4", "--trust-remote-code", "--quantization",
2026-01-26T01:18:22.2949463Z             "ascend", "--gpu-memory-utilization", "0.92", "--compilation-config",
2026-01-26T01:18:22.2950068Z             '{"cudagraph_capture_sizes":[3, 6, 9, 12], "cudagraph_mode":"FULL_DECODE_ONLY"}',
2026-01-26T01:18:22.2950560Z             "--speculative-config",
2026-01-26T01:18:22.2950931Z             '{"num_speculative_tokens": 2, "method":"deepseek_mtp"}',
2026-01-26T01:18:22.2951336Z             "--additional-config",
2026-01-26T01:18:22.2951662Z             '{"layer_sharding": ["q_b_proj", "o_proj"]}',
2026-01-26T01:18:22.2952153Z             "--reasoning-parser", "deepseek_v3", "--tokenizer_mode", "deepseek_v32"
2026-01-26T01:18:22.2952595Z         ]
2026-01-26T01:18:22.2952831Z         request_keyword_args: dict[str, Any] = {
2026-01-26T01:18:22.2953166Z             **api_keyword_args,
2026-01-26T01:18:22.2953417Z         }
2026-01-26T01:18:22.2953656Z >       with RemoteOpenAIServer(model,
2026-01-26T01:18:22.2953964Z                                 server_args,
2026-01-26T01:18:22.2954294Z                                 server_port=port,
2026-01-26T01:18:22.2954714Z                                 env_dict=env_dict,
2026-01-26T01:18:22.2955646Z                                 auto_port=False) as server:
2026-01-26T01:18:22.2956036Z 
2026-01-26T01:18:22.2956345Z tests/e2e/nightly/single_node/models/test_deepseek_v3_2_w8a8.py:95: 
2026-01-26T01:18:22.2956831Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2026-01-26T01:18:22.2957236Z tests/e2e/conftest.py:296: in __init__
2026-01-26T01:18:22.2957551Z     self._wait_for_multiple_servers(
2026-01-26T01:18:22.2957913Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2026-01-26T01:18:22.2958192Z 
2026-01-26T01:18:22.2958431Z self = <tests.e2e.conftest.RemoteOpenAIServer object at 0xffff2b57dd50>
2026-01-26T01:18:22.2959053Z targets = [('0.0.0.0', 'http://0.0.0.0:42629/health')], timeout = 2800
2026-01-26T01:18:22.2959469Z log_interval = 30.0
2026-01-26T01:18:22.2959614Z 
2026-01-26T01:18:22.2959726Z     def _wait_for_multiple_servers(self,
2026-01-26T01:18:22.2960048Z                                    targets,
2026-01-26T01:18:22.2960362Z                                    timeout: float,
2026-01-26T01:18:22.2960883Z                                    log_interval: float = 30.0):
2026-01-26T01:18:22.2961398Z         """
2026-01-26T01:18:22.2961698Z         targets: List[(node_ip, url)]
2026-01-26T01:18:22.2962005Z         log_interval
2026-01-26T01:18:22.2962244Z         """
2026-01-26T01:18:22.2962571Z         start = time.time()
2026-01-26T01:18:22.2962878Z         client = requests
2026-01-26T01:18:22.2963288Z     
2026-01-26T01:18:22.2963656Z         ready = {node_ip: False for node_ip, _ in targets}
2026-01-26T01:18:22.2964269Z     
2026-01-26T01:18:22.2964465Z         last_log_time = 0.0
2026-01-26T01:18:22.2964820Z     
2026-01-26T01:18:22.2965120Z         while True:
2026-01-26T01:18:22.2965368Z             now = time.time()
2026-01-26T01:18:22.2965861Z             all_ready = True
2026-01-26T01:18:22.2966194Z             should_log = (now - last_log_time) >= log_interval
2026-01-26T01:18:22.2966720Z     
2026-01-26T01:18:22.2967099Z             for node_ip, url in targets:
2026-01-26T01:18:22.2967490Z                 if ready[node_ip]:
2026-01-26T01:18:22.2967763Z                     continue
2026-01-26T01:18:22.2968013Z     
2026-01-26T01:18:22.2968198Z                 try:
2026-01-26T01:18:22.2968453Z                     resp = client.get(url)
2026-01-26T01:18:22.2968771Z                     if resp.status_code == 200:
2026-01-26T01:18:22.2969110Z                         ready[node_ip] = True
2026-01-26T01:18:22.2969507Z                         logger.info(f"[READY] Node {node_ip} is ready.")
2026-01-26T01:18:22.2969899Z                 except RequestException:
2026-01-26T01:18:22.2970218Z                     all_ready = False
2026-01-26T01:18:22.2970507Z                     if should_log:
2026-01-26T01:18:22.2970871Z                         logger.debug(f"[WAIT] {url}: connection failed")
2026-01-26T01:18:22.2971243Z     
2026-01-26T01:18:22.2971455Z                     # check unexpected exit
2026-01-26T01:18:22.2971922Z                     result = self._poll()
2026-01-26T01:18:22.2972262Z                     if result is not None and result != 0:
2026-01-26T01:18:22.2972629Z >                       raise RuntimeError(
2026-01-26T01:18:22.2972993Z                             f"Server at {node_ip} exited unexpectedly."
2026-01-26T01:18:22.2973439Z                         ) from None
2026-01-26T01:18:22.2973862Z E                       RuntimeError: Server at 0.0.0.0 exited unexpectedly.
2026-01-26T01:18:22.2974182Z 
2026-01-26T01:18:22.2974300Z tests/e2e/conftest.py:389: RuntimeError
2026-01-26T01:18:22.2974844Z ------------------------------ Captured log call -------------------------------
2026-01-26T01:18:22.2978319Z INFO     tests.e2e.conftest:conftest.py:231 Starting server with command: vllm serve vllm-ascend/DeepSeek-V3.2-W8A8 --enable-expert-parallel --tensor-parallel-size 8 --data-parallel-size 2 --port 42629 --max-model-len 8192 --max-num-batched-tokens 8192 --max-num-seqs 4 --trust-remote-code --quantization ascend --gpu-memory-utilization 0.92 --compilation-config {"cudagraph_capture_sizes":[3, 6, 9, 12], "cudagraph_mode":"FULL_DECODE_ONLY"} --speculative-config {"num_speculative_tokens": 2, "method":"deepseek_mtp"} --additional-config {"layer_sharding": ["q_b_proj", "o_proj"]} --reasoning-parser deepseek_v3 --tokenizer_mode deepseek_v32
2026-01-26T01:18:22.2981706Z =============================== warnings summary ===============================
2026-01-26T01:18:22.2982124Z <frozen importlib._bootstrap>:241
2026-01-26T01:18:22.2982846Z   <frozen importlib._bootstrap>:241: DeprecationWarning: builtin type SwigPyPacked has no __module__ attribute
2026-01-26T01:18:22.2983859Z 
2026-01-26T01:18:22.2983993Z <frozen importlib._bootstrap>:241
2026-01-26T01:18:22.2984573Z   <frozen importlib._bootstrap>:241: DeprecationWarning: builtin type SwigPyObject has no __module__ attribute
2026-01-26T01:18:22.2985602Z 
2026-01-26T01:18:22.2986051Z -- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
2026-01-26T01:18:22.2986919Z =========================== short test summary info ============================
2026-01-26T01:18:22.2988648Z FAILED tests/e2e/nightly/single_node/models/test_deepseek_v3_2_w8a8.py::test_models[2-8-vllm-ascend/DeepSeek-V3.2-W8A8] - RuntimeError: Server at 0.0.0.0 exited unexpectedly.
2026-01-26T01:18:22.2990425Z ======================== 1 failed, 2 warnings in 15.94s ========================
2026-01-26T01:18:24.0676219Z ##[error]Error: failed to run script step: Error: command terminated with non-zero exit code: command terminated with exit code 1
2026-01-26T01:18:24.0732253Z ##[error]Process completed with exit code 1.
2026-01-26T01:18:24.0828212Z ##[error]Executing the custom container implementation failed. Please contact your self hosted runner administrator.
2026-01-26T01:18:24.0895249Z ##[group]Run '/home/runner/k8s/index.js'
2026-01-26T01:18:24.0896746Z shell: /home/runner/externals/node20/bin/node {0}
2026-01-26T01:18:24.0897389Z ##[endgroup]
2026-01-26T01:18:24.7680461Z Cleaning up orphan processes
