# Run ID: 21317885503
# Commit: 7799c4ca3be0f6d7541b014a1a4dfbcccb33d8b2
# Job: single-node (deepseek3_2-w8a8, linux-aarch64-a3-16, tests/e2e/nightly/single_node/models/test_dee... / tests/e2e/nightly/single_node/models/test_deepseek_v3_2_w8a8.py
# Date: 2026-01-24
============================================================

ï»¿2026-01-25T00:12:56.5202018Z Current runner version: '2.330.0'
2026-01-25T00:12:56.5209292Z Runner name: 'linux-aarch64-a3-16-r8zc8-runner-wll5f'
2026-01-25T00:12:56.5210342Z Runner group name: 'Default'
2026-01-25T00:12:56.5211430Z Machine name: 'linux-aarch64-a3-16-r8zc8-runner-wll5f'
2026-01-25T00:12:56.5216821Z ##[group]GITHUB_TOKEN Permissions
2026-01-25T00:12:56.5219676Z Actions: write
2026-01-25T00:12:56.5220304Z ArtifactMetadata: write
2026-01-25T00:12:56.5220980Z Attestations: write
2026-01-25T00:12:56.5221568Z Checks: write
2026-01-25T00:12:56.5222127Z Contents: write
2026-01-25T00:12:56.5222679Z Deployments: write
2026-01-25T00:12:56.5223280Z Discussions: write
2026-01-25T00:12:56.5223974Z Issues: write
2026-01-25T00:12:56.5224509Z Metadata: read
2026-01-25T00:12:56.5225201Z Models: read
2026-01-25T00:12:56.5225708Z Packages: write
2026-01-25T00:12:56.5226323Z Pages: write
2026-01-25T00:12:56.5226857Z PullRequests: write
2026-01-25T00:12:56.5227512Z RepositoryProjects: write
2026-01-25T00:12:56.5228329Z SecurityEvents: write
2026-01-25T00:12:56.5228972Z Statuses: write
2026-01-25T00:12:56.5229575Z ##[endgroup]
2026-01-25T00:12:56.5231977Z Secret source: Actions
2026-01-25T00:12:56.5232674Z Prepare workflow directory
2026-01-25T00:12:56.6161498Z Prepare all required actions
2026-01-25T00:12:56.6239680Z Uses: vllm-project/vllm-ascend/.github/workflows/_e2e_nightly_single_node.yaml@refs/heads/main (7799c4ca3be0f6d7541b014a1a4dfbcccb33d8b2)
2026-01-25T00:12:56.6246092Z ##[group] Inputs
2026-01-25T00:12:56.6246863Z   vllm: v0.14.0
2026-01-25T00:12:56.6247436Z   runner: linux-aarch64-a3-16
2026-01-25T00:12:56.6248462Z   image: swr.cn-southwest-2.myhuaweicloud.com/base_image/ascend-ci/vllm-ascend:nightly-a3
2026-01-25T00:12:56.6249744Z   tests: tests/e2e/nightly/single_node/models/test_deepseek_v3_2_w8a8.py
2026-01-25T00:12:56.6250626Z   name: deepseek3_2-w8a8
2026-01-25T00:12:56.6251446Z ##[endgroup]
2026-01-25T00:12:56.6253100Z Complete job name: single-node (deepseek3_2-w8a8, linux-aarch64-a3-16, tests/e2e/nightly/single_node/models/test_dee... / tests/e2e/nightly/single_node/models/test_deepseek_v3_2_w8a8.py
2026-01-25T00:12:56.6995244Z ##[group]Run '/home/runner/k8s/index.js'
2026-01-25T00:12:56.7005774Z shell: /home/runner/externals/node20/bin/node {0}
2026-01-25T00:12:56.7006989Z ##[endgroup]
2026-01-25T00:13:28.4135238Z (node:54) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
2026-01-25T00:13:28.4136464Z (Use `node --trace-deprecation ...` to show where the warning was created)
2026-01-25T00:13:46.4507931Z ##[group]Run npu-smi info
2026-01-25T00:13:46.4508331Z [36;1mnpu-smi info[0m
2026-01-25T00:13:46.4508883Z [36;1mcat /usr/local/Ascend/ascend-toolkit/latest/"$(uname -i)"-linux/ascend_toolkit_install.info[0m
2026-01-25T00:13:46.4509741Z shell: bash -el {0}
2026-01-25T00:13:46.4509972Z env:
2026-01-25T00:13:46.4510198Z   TRANSFORMERS_OFFLINE: 1
2026-01-25T00:13:46.4510465Z   VLLM_USE_MODELSCOPE: true
2026-01-25T00:13:46.4510763Z ##[endgroup]
2026-01-25T00:13:46.4666099Z ##[group]Run '/home/runner/k8s/index.js'
2026-01-25T00:13:46.4667501Z shell: /home/runner/externals/node20/bin/node {0}
2026-01-25T00:13:46.4667887Z ##[endgroup]
2026-01-25T00:13:47.0106756Z (node:274) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
2026-01-25T00:13:47.0107957Z (Use `node --trace-deprecation ...` to show where the warning was created)
2026-01-25T00:14:07.2630411Z +------------------------------------------------------------------------------------------------+
2026-01-25T00:14:07.2631177Z | npu-smi 25.2.1                   Version: 25.2.1                                               |
2026-01-25T00:14:07.2631770Z +---------------------------+---------------+----------------------------------------------------+
2026-01-25T00:14:07.2632398Z | NPU   Name                | Health        | Power(W)    Temp(C)           Hugepages-Usage(page)|
2026-01-25T00:14:07.2633644Z | Chip  Phy-ID              | Bus-Id        | AICore(%)   Memory-Usage(MB)  HBM-Usage(MB)        |
2026-01-25T00:14:07.2634190Z +===========================+===============+====================================================+
2026-01-25T00:14:07.2634710Z | 0     Ascend910           | OK            | 165.4       36                0    / 0             |
2026-01-25T00:14:07.2635323Z | 0     0                   | 0000:9D:00.0  | 0           0    / 0          3143 / 65536         |
2026-01-25T00:14:07.2635891Z +------------------------------------------------------------------------------------------------+
2026-01-25T00:14:07.2636503Z | 0     Ascend910           | OK            | -           36                0    / 0             |
2026-01-25T00:14:07.2637024Z | 1     1                   | 0000:9F:00.0  | 0           0    / 0          2893 / 65536         |
2026-01-25T00:14:07.2637513Z +===========================+===============+====================================================+
2026-01-25T00:14:07.2638009Z | 1     Ascend910           | OK            | 163.2       35                0    / 0             |
2026-01-25T00:14:07.2638536Z | 0     2                   | 0000:99:00.0  | 0           0    / 0          3142 / 65536         |
2026-01-25T00:14:07.2639099Z +------------------------------------------------------------------------------------------------+
2026-01-25T00:14:07.2639720Z | 1     Ascend910           | OK            | -           36                0    / 0             |
2026-01-25T00:14:07.2640247Z | 1     3                   | 0000:9B:00.0  | 0           0    / 0          2887 / 65536         |
2026-01-25T00:14:07.2640717Z +===========================+===============+====================================================+
2026-01-25T00:14:07.2641221Z | 2     Ascend910           | OK            | 161.1       34                0    / 0             |
2026-01-25T00:14:07.2641733Z | 0     4                   | 0000:95:00.0  | 0           0    / 0          3143 / 65536         |
2026-01-25T00:14:07.2642290Z +------------------------------------------------------------------------------------------------+
2026-01-25T00:14:07.2642864Z | 2     Ascend910           | OK            | -           36                0    / 0             |
2026-01-25T00:14:07.2643517Z | 1     5                   | 0000:97:00.0  | 0           0    / 0          2891 / 65536         |
2026-01-25T00:14:07.2644002Z +===========================+===============+====================================================+
2026-01-25T00:14:07.2644684Z | 3     Ascend910           | OK            | 164.8       35                0    / 0             |
2026-01-25T00:14:07.2645301Z | 0     6                   | 0000:91:00.0  | 0           0    / 0          3141 / 65536         |
2026-01-25T00:14:07.2645853Z +------------------------------------------------------------------------------------------------+
2026-01-25T00:14:07.2646417Z | 3     Ascend910           | OK            | -           34                0    / 0             |
2026-01-25T00:14:07.2646946Z | 1     7                   | 0000:93:00.0  | 0           0    / 0          2888 / 65536         |
2026-01-25T00:14:07.2647410Z +===========================+===============+====================================================+
2026-01-25T00:14:07.2647914Z | 4     Ascend910           | OK            | 166.6       34                0    / 0             |
2026-01-25T00:14:07.2648427Z | 0     8                   | 0000:8D:00.0  | 0           0    / 0          3150 / 65536         |
2026-01-25T00:14:07.2648984Z +------------------------------------------------------------------------------------------------+
2026-01-25T00:14:07.2649553Z | 4     Ascend910           | OK            | -           36                0    / 0             |
2026-01-25T00:14:07.2650058Z | 1     9                   | 0000:8F:00.0  | 0           0    / 0          2885 / 65536         |
2026-01-25T00:14:07.2650539Z +===========================+===============+====================================================+
2026-01-25T00:14:07.2651140Z | 5     Ascend910           | OK            | 166.8       34                0    / 0             |
2026-01-25T00:14:07.2651665Z | 0     10                  | 0000:89:00.0  | 0           0    / 0          3144 / 65536         |
2026-01-25T00:14:07.2652222Z +------------------------------------------------------------------------------------------------+
2026-01-25T00:14:07.2652780Z | 5     Ascend910           | OK            | -           37                0    / 0             |
2026-01-25T00:14:07.2653397Z | 1     11                  | 0000:8B:00.0  | 0           0    / 0          2883 / 65536         |
2026-01-25T00:14:07.5656371Z +===========================+===============+====================================================+
2026-01-25T00:14:07.5657012Z | 6     Ascend910           | OK            | 162.6       36                0    / 0             |
2026-01-25T00:14:07.5657541Z | 0     12                  | 0000:85:00.0  | 0           0    / 0          3144 / 65536         |
2026-01-25T00:14:07.5658134Z +------------------------------------------------------------------------------------------------+
2026-01-25T00:14:07.5658709Z | 6     Ascend910           | OK            | -           36                0    / 0             |
2026-01-25T00:14:07.5659236Z | 1     13                  | 0000:87:00.0  | 0           0    / 0          2880 / 65536         |
2026-01-25T00:14:07.5659718Z +===========================+===============+====================================================+
2026-01-25T00:14:07.5660233Z | 7     Ascend910           | OK            | 158.5       35                0    / 0             |
2026-01-25T00:14:07.5660762Z | 0     14                  | 0000:81:00.0  | 0           0    / 0          3145 / 65536         |
2026-01-25T00:14:07.5661300Z +------------------------------------------------------------------------------------------------+
2026-01-25T00:14:07.5661870Z | 7     Ascend910           | OK            | -           35                0    / 0             |
2026-01-25T00:14:07.5662387Z | 1     15                  | 0000:83:00.0  | 0           0    / 0          2879 / 65536         |
2026-01-25T00:14:07.5662873Z +===========================+===============+====================================================+
2026-01-25T00:14:07.5663492Z +---------------------------+---------------+----------------------------------------------------+
2026-01-25T00:14:07.5664106Z | NPU     Chip              | Process id    | Process name             | Process memory(MB)      |
2026-01-25T00:14:07.5665269Z +===========================+===============+====================================================+
2026-01-25T00:14:07.5665895Z | No running processes found in NPU 0                                                            |
2026-01-25T00:14:07.5666428Z +===========================+===============+====================================================+
2026-01-25T00:14:07.5666983Z | No running processes found in NPU 1                                                            |
2026-01-25T00:14:07.5667519Z +===========================+===============+====================================================+
2026-01-25T00:14:07.5668066Z | No running processes found in NPU 2                                                            |
2026-01-25T00:14:07.5668609Z +===========================+===============+====================================================+
2026-01-25T00:14:07.5669145Z | No running processes found in NPU 3                                                            |
2026-01-25T00:14:07.5669697Z +===========================+===============+====================================================+
2026-01-25T00:14:07.5670233Z | No running processes found in NPU 4                                                            |
2026-01-25T00:14:07.5670772Z +===========================+===============+====================================================+
2026-01-25T00:14:07.5671305Z | No running processes found in NPU 5                                                            |
2026-01-25T00:14:07.5671975Z +===========================+===============+====================================================+
2026-01-25T00:14:07.5672524Z | No running processes found in NPU 6                                                            |
2026-01-25T00:14:07.5673815Z +===========================+===============+====================================================+
2026-01-25T00:14:07.5674462Z | No running processes found in NPU 7                                                            |
2026-01-25T00:14:07.5675108Z +===========================+===============+====================================================+
2026-01-25T00:14:07.5707224Z package_name=Ascend-cann-toolkit
2026-01-25T00:14:07.5707654Z version=8.5.0
2026-01-25T00:14:07.5707917Z innerversion=V100R001C25SPC001B232
2026-01-25T00:14:07.5708475Z compatible_version=[V100R001C15],[V100R001C18],[V100R001C19],[V100R001C20],[V100R001C21],[V100R001C23]
2026-01-25T00:14:07.5709016Z arch=aarch64
2026-01-25T00:14:07.5709243Z os=linux
2026-01-25T00:14:07.5709461Z path=/usr/local/Ascend/cann-8.5.0
2026-01-25T00:14:25.3364208Z ##[group]Run echo "Installed vLLM-related Python packages:"
2026-01-25T00:14:25.3365100Z [36;1mecho "Installed vLLM-related Python packages:"[0m
2026-01-25T00:14:25.3365622Z [36;1mpip list | grep vllm || echo "No vllm packages found."[0m
2026-01-25T00:14:25.3366095Z [36;1m[0m
2026-01-25T00:14:25.3366390Z [36;1mecho ""[0m
2026-01-25T00:14:25.3366806Z [36;1mecho "============================"[0m
2026-01-25T00:14:25.3367209Z [36;1mecho "vLLM Git information"[0m
2026-01-25T00:14:25.3367601Z [36;1mecho "============================"[0m
2026-01-25T00:14:25.3368006Z [36;1mcd vllm[0m
2026-01-25T00:14:25.3368296Z [36;1mif [ -d .git ]; then[0m
2026-01-25T00:14:25.3368752Z [36;1m  echo "Branch:      $(git rev-parse --abbrev-ref HEAD)"[0m
2026-01-25T00:14:25.3369258Z [36;1m  echo "Commit hash: $(git rev-parse HEAD)"[0m
2026-01-25T00:14:25.3369924Z [36;1m  echo "Author:      $(git log -1 --pretty=format:'%an <%ae>')"[0m
2026-01-25T00:14:25.3370717Z [36;1m  echo "Date:        $(git log -1 --pretty=format:'%ad' --date=iso)"[0m
2026-01-25T00:14:25.3371330Z [36;1m  echo "Message:     $(git log -1 --pretty=format:'%s')"[0m
2026-01-25T00:14:25.3371863Z [36;1m  echo "Tags:        $(git tag --points-at HEAD || echo 'None')"[0m
2026-01-25T00:14:25.3372346Z [36;1m  echo "Remote:      $(git remote -v | head -n1)"[0m
2026-01-25T00:14:25.3372701Z [36;1m  echo ""[0m
2026-01-25T00:14:25.3372959Z [36;1melse[0m
2026-01-25T00:14:25.3373214Z [36;1m  echo "No .git directory found in vllm"[0m
2026-01-25T00:14:25.3373658Z [36;1mfi[0m
2026-01-25T00:14:25.3373861Z [36;1mcd ..[0m
2026-01-25T00:14:25.3374084Z [36;1m[0m
2026-01-25T00:14:25.3374298Z [36;1mecho ""[0m
2026-01-25T00:14:25.3374535Z [36;1mecho "============================"[0m
2026-01-25T00:14:25.3374985Z [36;1mecho "vLLM-Ascend Git information"[0m
2026-01-25T00:14:25.3375322Z [36;1mecho "============================"[0m
2026-01-25T00:14:25.3375655Z [36;1mcd vllm-ascend[0m
2026-01-25T00:14:25.3375925Z [36;1mif [ -d .git ]; then[0m
2026-01-25T00:14:25.3376298Z [36;1m  echo "Branch:      $(git rev-parse --abbrev-ref HEAD)"[0m
2026-01-25T00:14:25.3376738Z [36;1m  echo "Commit hash: $(git rev-parse HEAD)"[0m
2026-01-25T00:14:25.3377201Z [36;1m  echo "Author:      $(git log -1 --pretty=format:'%an <%ae>')"[0m
2026-01-25T00:14:25.3377731Z [36;1m  echo "Date:        $(git log -1 --pretty=format:'%ad' --date=iso)"[0m
2026-01-25T00:14:25.3378228Z [36;1m  echo "Message:     $(git log -1 --pretty=format:'%s')"[0m
2026-01-25T00:14:25.3378725Z [36;1m  echo "Tags:        $(git tag --points-at HEAD || echo 'None')"[0m
2026-01-25T00:14:25.3379193Z [36;1m  echo "Remote:      $(git remote -v | head -n1)"[0m
2026-01-25T00:14:25.3379569Z [36;1m  echo ""[0m
2026-01-25T00:14:25.3379810Z [36;1melse[0m
2026-01-25T00:14:25.3380083Z [36;1m  echo "No .git directory found in vllm-ascend"[0m
2026-01-25T00:14:25.3380664Z [36;1mfi[0m
2026-01-25T00:14:25.3380859Z [36;1mcd ..[0m
2026-01-25T00:14:25.3381252Z shell: bash -el {0}
2026-01-25T00:14:25.3381468Z env:
2026-01-25T00:14:25.3381695Z   TRANSFORMERS_OFFLINE: 1
2026-01-25T00:14:25.3381958Z   VLLM_USE_MODELSCOPE: true
2026-01-25T00:14:25.3382233Z ##[endgroup]
2026-01-25T00:14:25.3459628Z ##[group]Run '/home/runner/k8s/index.js'
2026-01-25T00:14:25.3460708Z shell: /home/runner/externals/node20/bin/node {0}
2026-01-25T00:14:25.3461045Z ##[endgroup]
2026-01-25T00:14:25.9133920Z (node:699) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
2026-01-25T00:14:26.2737788Z (Use `node --trace-deprecation ...` to show where the warning was created)
2026-01-25T00:14:44.3808461Z Installed vLLM-related Python packages:
2026-01-25T00:14:45.6514303Z ais_bench_benchmark               3.0.20250930                /vllm-workspace/vllm-ascend/benchmark
2026-01-25T00:14:45.6515362Z vllm                              0.14.0+empty                /vllm-workspace/vllm
2026-01-25T00:14:45.6516673Z vllm_ascend                       0.13.0rc2.dev331+g21833a432 /vllm-workspace/vllm-ascend
2026-01-25T00:14:45.6517110Z 
2026-01-25T00:14:45.6517206Z ============================
2026-01-25T00:14:45.6517488Z vLLM Git information
2026-01-25T00:14:45.6517743Z ============================
2026-01-25T00:14:45.6785302Z Branch:      HEAD
2026-01-25T00:14:45.6805585Z Commit hash: b17039bccc17b94a2ea107272ad7bc93508708df
2026-01-25T00:14:45.6892509Z Author:      Shengqi Chen <harry-chen@outlook.com>
2026-01-25T00:14:45.6913966Z Date:        2026-01-17 12:52:33 +0800
2026-01-25T00:14:45.6937380Z Message:     [CI] Implement uploading to PyPI and GitHub in the release pipeline, enable release image building for CUDA 13.0 (#31032)
2026-01-25T00:14:45.7000118Z Tags:        v0.14.0
2026-01-25T00:14:45.7001066Z Remote:      origin	https://gh-proxy.test.osinfra.cn/https://github.com/vllm-project/vllm.git (fetch)
2026-01-25T00:14:45.7001871Z 
2026-01-25T00:14:45.7001879Z 
2026-01-25T00:14:45.7002046Z ============================
2026-01-25T00:14:45.7002449Z vLLM-Ascend Git information
2026-01-25T00:14:45.7002861Z ============================
2026-01-25T00:14:45.7088296Z Branch:      main
2026-01-25T00:14:45.7108080Z Commit hash: 21833a4321f032fcdd1261a43b522bb8e08ef9f4
2026-01-25T00:14:45.7196700Z Author:      wangxiyuan <wangxiyuan1007@gmail.com>
2026-01-25T00:14:45.7221363Z Date:        2026-01-24 12:51:47 +0800
2026-01-25T00:14:45.7243856Z Message:     [Doc] Add release note for 0.13.0rc2 (#6207)
2026-01-25T00:14:45.7523119Z Tags:        
2026-01-25T00:14:45.7551112Z Remote:      origin	https://gh-proxy.test.osinfra.cn/https://github.com/vllm-project/vllm-ascend (fetch)
2026-01-25T00:14:45.7551644Z 
2026-01-25T00:15:03.9873185Z ##[group]Run apt-get update && apt-get -y install clang-15
2026-01-25T00:15:03.9873868Z [36;1mapt-get update && apt-get -y install clang-15[0m
2026-01-25T00:15:03.9874410Z [36;1mupdate-alternatives --install /usr/bin/clang clang /usr/bin/clang-15 20[0m
2026-01-25T00:15:03.9875464Z [36;1mupdate-alternatives --install /usr/bin/clang++ clang++ /usr/bin/clang++-15 20[0m
2026-01-25T00:15:03.9876156Z shell: bash -l {0}
2026-01-25T00:15:03.9876382Z env:
2026-01-25T00:15:03.9876608Z   TRANSFORMERS_OFFLINE: 1
2026-01-25T00:15:03.9876874Z   VLLM_USE_MODELSCOPE: true
2026-01-25T00:15:03.9877148Z ##[endgroup]
2026-01-25T00:15:03.9962249Z ##[group]Run '/home/runner/k8s/index.js'
2026-01-25T00:15:03.9963782Z shell: /home/runner/externals/node20/bin/node {0}
2026-01-25T00:15:03.9964163Z ##[endgroup]
2026-01-25T00:15:04.6015104Z (node:1305) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
2026-01-25T00:15:04.6016382Z (Use `node --trace-deprecation ...` to show where the warning was created)
2026-01-25T00:15:24.5654198Z Get:1 http://ports.ubuntu.com/ubuntu-ports jammy InRelease [270 kB]
2026-01-25T00:15:26.3901659Z Get:2 http://ports.ubuntu.com/ubuntu-ports jammy-updates InRelease [128 kB]
2026-01-25T00:15:27.1283893Z Get:3 http://ports.ubuntu.com/ubuntu-ports jammy-backports InRelease [127 kB]
2026-01-25T00:15:27.8553376Z Get:4 http://ports.ubuntu.com/ubuntu-ports jammy-security InRelease [129 kB]
2026-01-25T00:15:28.6397876Z Get:5 http://ports.ubuntu.com/ubuntu-ports jammy/main arm64 Packages [1758 kB]
2026-01-25T00:15:33.1599022Z Get:6 http://ports.ubuntu.com/ubuntu-ports jammy/restricted arm64 Packages [24.2 kB]
2026-01-25T00:15:33.1600935Z Get:7 http://ports.ubuntu.com/ubuntu-ports jammy/universe arm64 Packages [17.2 MB]
2026-01-25T00:15:49.9027938Z Get:8 http://ports.ubuntu.com/ubuntu-ports jammy/multiverse arm64 Packages [224 kB]
2026-01-25T00:15:49.9512079Z Get:9 http://ports.ubuntu.com/ubuntu-ports jammy-updates/multiverse arm64 Packages [63.5 kB]
2026-01-25T00:15:49.9826642Z Get:10 http://ports.ubuntu.com/ubuntu-ports jammy-updates/universe arm64 Packages [1636 kB]
2026-01-25T00:15:50.8053249Z Get:11 http://ports.ubuntu.com/ubuntu-ports jammy-updates/main arm64 Packages [3726 kB]
2026-01-25T00:15:52.4371962Z Get:12 http://ports.ubuntu.com/ubuntu-ports jammy-updates/restricted arm64 Packages [6176 kB]
2026-01-25T00:15:54.8135985Z Get:13 http://ports.ubuntu.com/ubuntu-ports jammy-backports/universe arm64 Packages [35.3 kB]
2026-01-25T00:15:54.8137467Z Get:14 http://ports.ubuntu.com/ubuntu-ports jammy-backports/main arm64 Packages [83.5 kB]
2026-01-25T00:15:54.8138819Z Get:15 http://ports.ubuntu.com/ubuntu-ports jammy-security/multiverse arm64 Packages [40.2 kB]
2026-01-25T00:15:54.8257980Z Get:16 http://ports.ubuntu.com/ubuntu-ports jammy-security/restricted arm64 Packages [5886 kB]
2026-01-25T00:15:57.0585762Z Get:17 http://ports.ubuntu.com/ubuntu-ports jammy-security/universe arm64 Packages [1334 kB]
2026-01-25T00:15:57.1988022Z Get:18 http://ports.ubuntu.com/ubuntu-ports jammy-security/main arm64 Packages [3409 kB]
2026-01-25T00:15:59.5132503Z Fetched 42.3 MB in 36s (1187 kB/s)
2026-01-25T00:16:00.4042239Z Reading package lists...
2026-01-25T00:16:01.3610105Z Reading package lists...
2026-01-25T00:16:01.5659681Z Building dependency tree...
2026-01-25T00:16:01.5668210Z Reading state information...
2026-01-25T00:16:01.7998151Z clang-15 is already the newest version (1:15.0.7-0ubuntu0.22.04.3).
2026-01-25T00:16:01.7998890Z The following packages were automatically installed and are no longer required:
2026-01-25T00:16:01.7999676Z   autoconf automake autotools-dev file javascript-common libboost-atomic-dev
2026-01-25T00:16:01.8000303Z   libboost-atomic1.74-dev libboost-atomic1.74.0 libboost-chrono-dev
2026-01-25T00:16:01.8000894Z   libboost-chrono1.74-dev libboost-chrono1.74.0 libboost-container-dev
2026-01-25T00:16:01.8001853Z   libboost-container1.74-dev libboost-container1.74.0 libboost-context-dev
2026-01-25T00:16:01.8002525Z   libboost-context1.74-dev libboost-context1.74.0 libboost-coroutine-dev
2026-01-25T00:16:01.8003139Z   libboost-coroutine1.74-dev libboost-coroutine1.74.0 libboost-date-time-dev
2026-01-25T00:16:01.8003878Z   libboost-date-time1.74-dev libboost-date-time1.74.0 libboost-dev
2026-01-25T00:16:01.8004624Z   libboost-exception-dev libboost-exception1.74-dev libboost-fiber-dev
2026-01-25T00:16:01.8005411Z   libboost-fiber1.74-dev libboost-fiber1.74.0 libboost-filesystem-dev
2026-01-25T00:16:01.8006212Z   libboost-filesystem1.74-dev libboost-filesystem1.74.0 libboost-graph-dev
2026-01-25T00:16:01.8007065Z   libboost-graph-parallel-dev libboost-graph-parallel1.74-dev
2026-01-25T00:16:01.8008067Z   libboost-graph-parallel1.74.0 libboost-graph1.74-dev libboost-graph1.74.0
2026-01-25T00:16:01.8008715Z   libboost-iostreams-dev libboost-iostreams1.74-dev libboost-iostreams1.74.0
2026-01-25T00:16:01.8009341Z   libboost-locale-dev libboost-locale1.74-dev libboost-locale1.74.0
2026-01-25T00:16:01.8009942Z   libboost-log-dev libboost-log1.74-dev libboost-log1.74.0 libboost-math-dev
2026-01-25T00:16:01.8010506Z   libboost-math1.74-dev libboost-math1.74.0 libboost-mpi1.74.0
2026-01-25T00:16:01.8011417Z   libboost-nowide-dev libboost-nowide1.74-dev libboost-nowide1.74.0
2026-01-25T00:16:01.8012402Z   libboost-numpy-dev libboost-numpy1.74-dev libboost-numpy1.74.0
2026-01-25T00:16:01.8013046Z   libboost-program-options-dev libboost-program-options1.74-dev
2026-01-25T00:16:01.8013994Z   libboost-program-options1.74.0 libboost-python-dev libboost-python1.74-dev
2026-01-25T00:16:01.8015319Z   libboost-python1.74.0 libboost-random-dev libboost-random1.74-dev
2026-01-25T00:16:01.8016191Z   libboost-random1.74.0 libboost-regex-dev libboost-regex1.74-dev
2026-01-25T00:16:01.8016656Z   libboost-regex1.74.0 libboost-serialization-dev
2026-01-25T00:16:01.8017133Z   libboost-serialization1.74-dev libboost-serialization1.74.0
2026-01-25T00:16:01.8017620Z   libboost-stacktrace-dev libboost-stacktrace1.74-dev
2026-01-25T00:16:01.8018138Z   libboost-stacktrace1.74.0 libboost-system-dev libboost-system1.74-dev
2026-01-25T00:16:01.8018699Z   libboost-system1.74.0 libboost-test-dev libboost-test1.74-dev
2026-01-25T00:16:01.8019234Z   libboost-test1.74.0 libboost-thread-dev libboost-thread1.74-dev
2026-01-25T00:16:01.8019767Z   libboost-thread1.74.0 libboost-timer-dev libboost-timer1.74-dev
2026-01-25T00:16:01.8020385Z   libboost-timer1.74.0 libboost-tools-dev libboost-type-erasure-dev
2026-01-25T00:16:01.8020998Z   libboost-type-erasure1.74-dev libboost-type-erasure1.74.0 libboost-wave-dev
2026-01-25T00:16:01.8021572Z   libboost-wave1.74-dev libboost-wave1.74.0 libboost1.74-dev
2026-01-25T00:16:01.8022130Z   libboost1.74-tools-dev libcaf-openmpi-3 libcoarrays-dev libevent-2.1-7
2026-01-25T00:16:01.8022742Z   libevent-core-2.1-7 libevent-dev libevent-extra-2.1-7 libevent-openssl-2.1-7
2026-01-25T00:16:01.8023355Z   libevent-pthreads-2.1-7 libhwloc-dev libjs-jquery libjs-jquery-ui
2026-01-25T00:16:01.8024280Z   libjs-sphinxdoc libjs-underscore libltdl-dev libltdl7 libmagic-mgc libmagic1
2026-01-25T00:16:01.8025147Z   libopenmpi3 libpmix-dev libpmix2 libsigsegv2 libtool libucx0 m4
2026-01-25T00:16:01.8025745Z   openmpi-common python3-dev python3-distutils python3-lib2to3 python3.10-dev
2026-01-25T00:16:01.8026234Z Use 'apt autoremove' to remove them.
2026-01-25T00:16:01.8214240Z 0 upgraded, 0 newly installed, 0 to remove and 5 not upgraded.
2026-01-25T00:16:20.0821813Z ##[group]Run # ignore test_dispatch_ffn_combine until the test is fixed
2026-01-25T00:16:20.0822457Z [36;1m# ignore test_dispatch_ffn_combine until the test is fixed[0m
2026-01-25T00:16:20.0823067Z [36;1mpytest -sv tests/e2e/nightly/single_node/models/test_deepseek_v3_2_w8a8.py \[0m
2026-01-25T00:16:20.0823867Z [36;1m--ignore=tests/e2e/nightly/single_node/ops/singlecard_ops/test_fused_moe.py[0m
2026-01-25T00:16:20.0824493Z shell: bash -el {0}
2026-01-25T00:16:20.0824738Z env:
2026-01-25T00:16:20.0825048Z   TRANSFORMERS_OFFLINE: 1
2026-01-25T00:16:20.0825329Z   VLLM_USE_MODELSCOPE: true
2026-01-25T00:16:20.0825610Z   VLLM_WORKER_MULTIPROC_METHOD: spawn
2026-01-25T00:16:20.0825945Z   VLLM_CI_RUNNER: linux-aarch64-a3-16
2026-01-25T00:16:20.0826324Z   BENCHMARK_HOME: /vllm-workspace/vllm-ascend/benchmark
2026-01-25T00:16:20.0826694Z ##[endgroup]
2026-01-25T00:16:20.0919767Z ##[group]Run '/home/runner/k8s/index.js'
2026-01-25T00:16:20.0920949Z shell: /home/runner/externals/node20/bin/node {0}
2026-01-25T00:16:20.0921304Z ##[endgroup]
2026-01-25T00:16:20.6760929Z (node:2097) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
2026-01-25T00:16:20.6762029Z (Use `node --trace-deprecation ...` to show where the warning was created)
2026-01-25T00:16:54.5969155Z INFO 01-25 00:16:54 [__init__.py:43] Available plugins for group vllm.platform_plugins:
2026-01-25T00:16:54.5971007Z INFO 01-25 00:16:54 [__init__.py:45] - ascend -> vllm_ascend:register
2026-01-25T00:16:54.5972252Z INFO 01-25 00:16:54 [__init__.py:48] All plugins in this group will be loaded. Set `VLLM_PLUGINS` to control which plugins to load.
2026-01-25T00:16:54.6450671Z INFO 01-25 00:16:54 [__init__.py:217] Platform plugin ascend is activated
2026-01-25T00:17:01.3680208Z ============================= test session starts ==============================
2026-01-25T00:17:01.3680955Z platform linux -- Python 3.11.14, pytest-8.4.2, pluggy-1.6.0 -- /usr/local/python3.11.14/bin/python3
2026-01-25T00:17:01.3681721Z cachedir: .pytest_cache
2026-01-25T00:17:01.3682112Z rootdir: /vllm-workspace/vllm-ascend
2026-01-25T00:17:01.3682432Z configfile: pyproject.toml
2026-01-25T00:17:01.3682793Z plugins: mock-3.15.1, cov-7.0.0, asyncio-1.3.0, anyio-4.12.1
2026-01-25T00:17:01.3683513Z asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
2026-01-25T00:17:02.2327444Z collecting ... collected 1 item
2026-01-25T00:17:02.2327754Z 
2026-01-25T00:17:02.2342025Z [2026-01-25 00:17:02] INFO conftest.py:231: Starting server with command: vllm serve vllm-ascend/DeepSeek-V3.2-W8A8 --enable-expert-parallel --tensor-parallel-size 8 --data-parallel-size 2 --port 36351 --max-model-len 8192 --max-num-batched-tokens 8192 --max-num-seqs 4 --trust-remote-code --quantization ascend --gpu-memory-utilization 0.92 --compilation-config {"cudagraph_capture_sizes":[3, 6, 9, 12], "cudagraph_mode":"FULL_DECODE_ONLY"} --speculative-config {"num_speculative_tokens": 2, "method":"deepseek_mtp"} --additional-config {"layer_sharding": ["q_b_proj", "o_proj"]} --reasoning-parser deepseek_v3 --tokenizer_mode deepseek_v32
2026-01-25T00:17:06.4814762Z tests/e2e/nightly/single_node/models/test_deepseek_v3_2_w8a8.py::test_models[2-8-vllm-ascend/DeepSeek-V3.2-W8A8] INFO 01-25 00:17:06 [__init__.py:43] Available plugins for group vllm.platform_plugins:
2026-01-25T00:17:06.4816111Z INFO 01-25 00:17:06 [__init__.py:45] - ascend -> vllm_ascend:register
2026-01-25T00:17:06.4816840Z INFO 01-25 00:17:06 [__init__.py:48] All plugins in this group will be loaded. Set `VLLM_PLUGINS` to control which plugins to load.
2026-01-25T00:17:06.4877109Z INFO 01-25 00:17:06 [__init__.py:217] Platform plugin ascend is activated
2026-01-25T00:17:12.6089379Z 2026-01-25 00:17:12,607 - 3868 - vllmProfiler - INFO - VLLM_USE_V1 not set, auto-detected via vLLM 0.14.0+empty: default 1
2026-01-25T00:17:12.6426915Z INFO 01-25 00:17:12 [__init__.py:108] Registered model loader `<class 'vllm_ascend.model_loader.netloader.netloader.ModelNetLoaderElastic'>` with load format `netloader`
2026-01-25T00:17:12.8653564Z [0;36m(APIServer pid=3868)[0;0m INFO 01-25 00:17:12 [api_server.py:1272] vLLM API server version 0.14.0
2026-01-25T00:17:12.8661492Z [0;36m(APIServer pid=3868)[0;0m INFO 01-25 00:17:12 [utils.py:263] non-default args: {'model_tag': 'vllm-ascend/DeepSeek-V3.2-W8A8', 'port': 36351, 'model': 'vllm-ascend/DeepSeek-V3.2-W8A8', 'tokenizer_mode': 'deepseek_v32', 'trust_remote_code': True, 'max_model_len': 8192, 'quantization': 'ascend', 'reasoning_parser': 'deepseek_v3', 'tensor_parallel_size': 8, 'data_parallel_size': 2, 'enable_expert_parallel': True, 'gpu_memory_utilization': 0.92, 'max_num_batched_tokens': 8192, 'max_num_seqs': 4, 'speculative_config': {'num_speculative_tokens': 2, 'method': 'deepseek_mtp'}, 'compilation_config': {'level': None, 'mode': None, 'debug_dump_path': None, 'cache_dir': '', 'compile_cache_save_format': 'binary', 'backend': 'vllm_ascend.compilation.compiler_interface.AscendCompiler', 'custom_ops': [], 'splitting_ops': None, 'compile_mm_encoder': False, 'compile_sizes': None, 'compile_ranges_split_points': None, 'inductor_compile_config': {'enable_auto_functionalized_v2': False, 'combo_kernels': True, 'benchmark_combo_kernel': True}, 'inductor_passes': {}, 'cudagraph_mode': <CUDAGraphMode.FULL_DECODE_ONLY: (2, 0)>, 'cudagraph_num_of_warmups': 0, 'cudagraph_capture_sizes': [3, 6, 9, 12], 'cudagraph_copy_inputs': False, 'cudagraph_specialize_lora': True, 'use_inductor_graph_partition': None, 'pass_config': {}, 'max_cudagraph_capture_size': None, 'dynamic_shapes_config': {'type': <DynamicShapesType.BACKED: 'backed'>, 'evaluate_guards': False, 'assume_32_bit_indexing': True}, 'local_cache_dir': None}, 'additional_config': {'layer_sharding': ['q_b_proj', 'o_proj']}}
2026-01-25T00:17:12.9079300Z [0;36m(APIServer pid=3868)[0;0m INFO 01-25 00:17:12 [arg_utils.py:603] HF_HUB_OFFLINE is True, replace model_id [vllm-ascend/DeepSeek-V3.2-W8A8] to model_path [/root/.cache/modelscope/hub/models/vllm-ascend/DeepSeek-V3___2-W8A8]
2026-01-25T00:17:12.9080896Z [0;36m(APIServer pid=3868)[0;0m 2026-01-25 00:17:12,907 - modelscope - WARNING - We can not confirm the cached file is for revision: master
2026-01-25T00:17:12.9087088Z [0;36m(APIServer pid=3868)[0;0m The argument `trust_remote_code` is to be used with Auto classes. It has no effect here and is ignored.
2026-01-25T00:17:12.9088512Z [0;36m(APIServer pid=3868)[0;0m [2026-01-25 00:17:12] WARNING configuration_utils.py:697: The argument `trust_remote_code` is to be used with Auto classes. It has no effect here and is ignored.
2026-01-25T00:17:12.9146280Z [0;36m(APIServer pid=3868)[0;0m The argument `trust_remote_code` is to be used with Auto classes. It has no effect here and is ignored.
2026-01-25T00:17:12.9147730Z [0;36m(APIServer pid=3868)[0;0m [2026-01-25 00:17:12] WARNING configuration_utils.py:697: The argument `trust_remote_code` is to be used with Auto classes. It has no effect here and is ignored.
2026-01-25T00:17:12.9156213Z [0;36m(APIServer pid=3868)[0;0m The argument `trust_remote_code` is to be used with Auto classes. It has no effect here and is ignored.
2026-01-25T00:17:12.9157608Z [0;36m(APIServer pid=3868)[0;0m [2026-01-25 00:17:12] WARNING configuration_utils.py:697: The argument `trust_remote_code` is to be used with Auto classes. It has no effect here and is ignored.
2026-01-25T00:17:12.9161300Z [0;36m(APIServer pid=3868)[0;0m You are using a model of type deepseek_v32 to instantiate a model of type deepseek_v3. This is not supported for all configurations of models and can yield errors.
2026-01-25T00:17:12.9163251Z [0;36m(APIServer pid=3868)[0;0m [2026-01-25 00:17:12] WARNING configuration_utils.py:635: You are using a model of type deepseek_v32 to instantiate a model of type deepseek_v3. This is not supported for all configurations of models and can yield errors.
2026-01-25T00:17:12.9380410Z [0;36m(APIServer pid=3868)[0;0m INFO 01-25 00:17:12 [model.py:530] Resolved architecture: DeepseekV32ForCausalLM
2026-01-25T00:17:12.9381311Z [0;36m(APIServer pid=3868)[0;0m INFO 01-25 00:17:12 [model.py:1545] Using max model len 8192
2026-01-25T00:17:13.2330829Z [0;36m(APIServer pid=3868)[0;0m WARNING 01-25 00:17:13 [speculative.py:254] method `deepseek_mtp` is deprecated and replaced with mtp.
2026-01-25T00:17:13.2333000Z [0;36m(APIServer pid=3868)[0;0m The argument `trust_remote_code` is to be used with Auto classes. It has no effect here and is ignored.
2026-01-25T00:17:13.2334504Z [0;36m(APIServer pid=3868)[0;0m [2026-01-25 00:17:13] WARNING configuration_utils.py:697: The argument `trust_remote_code` is to be used with Auto classes. It has no effect here and is ignored.
2026-01-25T00:17:13.2341518Z [0;36m(APIServer pid=3868)[0;0m The argument `trust_remote_code` is to be used with Auto classes. It has no effect here and is ignored.
2026-01-25T00:17:13.2342986Z [0;36m(APIServer pid=3868)[0;0m [2026-01-25 00:17:13] WARNING configuration_utils.py:697: The argument `trust_remote_code` is to be used with Auto classes. It has no effect here and is ignored.
2026-01-25T00:17:13.2348369Z [0;36m(APIServer pid=3868)[0;0m You are using a model of type deepseek_v32 to instantiate a model of type deepseek_v3. This is not supported for all configurations of models and can yield errors.
2026-01-25T00:17:13.2350333Z [0;36m(APIServer pid=3868)[0;0m [2026-01-25 00:17:13] WARNING configuration_utils.py:635: You are using a model of type deepseek_v32 to instantiate a model of type deepseek_v3. This is not supported for all configurations of models and can yield errors.
2026-01-25T00:17:13.2441410Z [0;36m(APIServer pid=3868)[0;0m INFO 01-25 00:17:13 [model.py:530] Resolved architecture: DeepSeekMTPModel
2026-01-25T00:17:13.2442657Z [0;36m(APIServer pid=3868)[0;0m INFO 01-25 00:17:13 [model.py:1545] Using max model len 163840
2026-01-25T00:17:13.2444471Z [0;36m(APIServer pid=3868)[0;0m WARNING 01-25 00:17:13 [speculative.py:372] Enabling num_speculative_tokens > 1 will runmultiple times of forward on same MTP layer,which may result in lower acceptance rate
2026-01-25T00:17:13.2446359Z [0;36m(APIServer pid=3868)[0;0m INFO 01-25 00:17:13 [scheduler.py:229] Chunked prefill is enabled with max_num_batched_tokens=8192.
2026-01-25T00:17:13.5831756Z [0;36m(APIServer pid=3868)[0;0m INFO 01-25 00:17:13 [vllm.py:630] Asynchronous scheduling is enabled.
2026-01-25T00:17:13.5832804Z [0;36m(APIServer pid=3868)[0;0m INFO 01-25 00:17:13 [vllm.py:637] Disabling NCCL for DP synchronization when using async scheduling.
2026-01-25T00:17:13.5834277Z [0;36m(APIServer pid=3868)[0;0m WARNING 01-25 00:17:13 [platform.py:719] Speculative quantization is set but Ascend automatically uses the main model's quantization method. Resetting to None.
2026-01-25T00:17:13.5836835Z [0;36m(APIServer pid=3868)[0;0m INFO 01-25 00:17:13 [ascend_config.py:56] Linear layer sharding enabled with config: ['q_b_proj', 'o_proj']. Note: This feature works optimally with FLASHCOMM2 and DSA-CP enabled; using it without these features may result in significant performance degradation.
2026-01-25T00:17:13.5838891Z [0;36m(APIServer pid=3868)[0;0m WARNING 01-25 00:17:13 [vllm.py:1054] Batch sizes [3, 6, 9, 12] are removed because they are not multiple of tp_size 8 when sequence parallelism is enabled
2026-01-25T00:17:13.5863577Z [0;36m(APIServer pid=3868)[0;0m Traceback (most recent call last):
2026-01-25T00:17:13.5864382Z [0;36m(APIServer pid=3868)[0;0m   File "/usr/local/python3.11.14/bin/vllm", line 7, in <module>
2026-01-25T00:17:13.5865089Z [0;36m(APIServer pid=3868)[0;0m     sys.exit(main())
2026-01-25T00:17:13.5865567Z [0;36m(APIServer pid=3868)[0;0m              ^^^^^^
2026-01-25T00:17:13.5866352Z [0;36m(APIServer pid=3868)[0;0m   File "/vllm-workspace/vllm/vllm/entrypoints/cli/main.py", line 73, in main
2026-01-25T00:17:13.5867095Z [0;36m(APIServer pid=3868)[0;0m     args.dispatch_function(args)
2026-01-25T00:17:13.5868357Z [0;36m(APIServer pid=3868)[0;0m   File "/vllm-workspace/vllm/vllm/entrypoints/cli/serve.py", line 60, in cmd
2026-01-25T00:17:13.5869114Z [0;36m(APIServer pid=3868)[0;0m     uvloop.run(run_server(args))
2026-01-25T00:17:13.5869980Z [0;36m(APIServer pid=3868)[0;0m   File "/usr/local/python3.11.14/lib/python3.11/site-packages/uvloop/__init__.py", line 92, in run
2026-01-25T00:17:13.5872606Z [0;36m(APIServer pid=3868)[0;0m     return runner.run(wrapper())
2026-01-25T00:17:13.5873156Z [0;36m(APIServer pid=3868)[0;0m            ^^^^^^^^^^^^^^^^^^^^^
2026-01-25T00:17:13.5874035Z [0;36m(APIServer pid=3868)[0;0m   File "/usr/local/python3.11.14/lib/python3.11/asyncio/runners.py", line 118, in run
2026-01-25T00:17:13.5877569Z [0;36m(APIServer pid=3868)[0;0m     return self._loop.run_until_complete(task)
2026-01-25T00:17:13.5878218Z [0;36m(APIServer pid=3868)[0;0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-25T00:17:13.5878996Z [0;36m(APIServer pid=3868)[0;0m   File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
2026-01-25T00:17:13.5881370Z [0;36m(APIServer pid=3868)[0;0m   File "/usr/local/python3.11.14/lib/python3.11/site-packages/uvloop/__init__.py", line 48, in wrapper
2026-01-25T00:17:13.5882171Z [0;36m(APIServer pid=3868)[0;0m     return await main
2026-01-25T00:17:13.5882634Z [0;36m(APIServer pid=3868)[0;0m            ^^^^^^^^^^
2026-01-25T00:17:13.5883427Z [0;36m(APIServer pid=3868)[0;0m   File "/vllm-workspace/vllm/vllm/entrypoints/openai/api_server.py", line 1319, in run_server
2026-01-25T00:17:13.5884527Z [0;36m(APIServer pid=3868)[0;0m     await run_server_worker(listen_address, sock, args, **uvicorn_kwargs)
2026-01-25T00:17:13.5885755Z [0;36m(APIServer pid=3868)[0;0m   File "/vllm-workspace/vllm/vllm/entrypoints/openai/api_server.py", line 1338, in run_server_worker
2026-01-25T00:17:13.5886838Z [0;36m(APIServer pid=3868)[0;0m     async with build_async_engine_client(
2026-01-25T00:17:13.5887696Z [0;36m(APIServer pid=3868)[0;0m   File "/usr/local/python3.11.14/lib/python3.11/contextlib.py", line 210, in __aenter__
2026-01-25T00:17:13.5892274Z [0;36m(APIServer pid=3868)[0;0m     return await anext(self.gen)
2026-01-25T00:17:13.5892838Z [0;36m(APIServer pid=3868)[0;0m            ^^^^^^^^^^^^^^^^^^^^^
2026-01-25T00:17:13.5893837Z [0;36m(APIServer pid=3868)[0;0m   File "/vllm-workspace/vllm/vllm/entrypoints/openai/api_server.py", line 173, in build_async_engine_client
2026-01-25T00:17:13.5894817Z [0;36m(APIServer pid=3868)[0;0m     async with build_async_engine_client_from_engine_args(
2026-01-25T00:17:13.5895854Z [0;36m(APIServer pid=3868)[0;0m   File "/usr/local/python3.11.14/lib/python3.11/contextlib.py", line 210, in __aenter__
2026-01-25T00:17:13.5896608Z [0;36m(APIServer pid=3868)[0;0m     return await anext(self.gen)
2026-01-25T00:17:13.5897150Z [0;36m(APIServer pid=3868)[0;0m            ^^^^^^^^^^^^^^^^^^^^^
2026-01-25T00:17:13.5898139Z [0;36m(APIServer pid=3868)[0;0m   File "/vllm-workspace/vllm/vllm/entrypoints/openai/api_server.py", line 199, in build_async_engine_client_from_engine_args
2026-01-25T00:17:13.5899274Z [0;36m(APIServer pid=3868)[0;0m     vllm_config = engine_args.create_engine_config(usage_context=usage_context)
2026-01-25T00:17:13.5900107Z [0;36m(APIServer pid=3868)[0;0m                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-25T00:17:13.5900993Z [0;36m(APIServer pid=3868)[0;0m   File "/vllm-workspace/vllm/vllm/engine/arg_utils.py", line 1748, in create_engine_config
2026-01-25T00:17:13.5901751Z [0;36m(APIServer pid=3868)[0;0m     config = VllmConfig(
2026-01-25T00:17:13.5902238Z [0;36m(APIServer pid=3868)[0;0m              ^^^^^^^^^^^
2026-01-25T00:17:13.5903165Z [0;36m(APIServer pid=3868)[0;0m   File "/usr/local/python3.11.14/lib/python3.11/site-packages/pydantic/_internal/_dataclasses.py", line 121, in __init__
2026-01-25T00:17:13.5905460Z [0;36m(APIServer pid=3868)[0;0m     s.__pydantic_validator__.validate_python(ArgsKwargs(args, kwargs), self_instance=s)
2026-01-25T00:17:13.5941953Z [0;36m(APIServer pid=3868)[0;0m pydantic_core._pydantic_core.ValidationError: 1 validation error for VllmConfig
2026-01-25T00:17:13.5945098Z [0;36m(APIServer pid=3868)[0;0m   Assertion failed, cudagraph_capture_sizes [3, 6, 9, 12] does not containvalues that are multiples of tp_size 8 [type=assertion_error, input_value=ArgsKwargs((), {'model_co...timizationLevel.O2: 2>}), input_type=ArgsKwargs]
2026-01-25T00:17:13.5947836Z [0;36m(APIServer pid=3868)[0;0m     For further information visit https://errors.pydantic.dev/2.12/v/assertion_error
2026-01-25T00:17:13.9772880Z [0;36m(APIServer pid=3868)[0;0m [ERROR] 2026-01-25-00:17:13 (PID:3868, Device:-1, RankID:-1) ERR99999 UNKNOWN applicaiton exception
2026-01-25T00:17:14.2709254Z [0;36m(APIServer pid=3868)[0;0m sys:1: DeprecationWarning: builtin type swigvarlink has no __module__ attribute
2026-01-25T00:17:18.5388669Z FAILED
2026-01-25T00:17:18.5388894Z 
2026-01-25T00:17:18.5389102Z =================================== FAILURES ===================================
2026-01-25T00:17:18.5389741Z _______________ test_models[2-8-vllm-ascend/DeepSeek-V3.2-W8A8] ________________
2026-01-25T00:17:18.5390099Z 
2026-01-25T00:17:18.5390300Z model = 'vllm-ascend/DeepSeek-V3.2-W8A8', tp_size = 8, dp_size = 2
2026-01-25T00:17:18.5390632Z 
2026-01-25T00:17:18.5390739Z     @pytest.mark.asyncio
2026-01-25T00:17:18.5391040Z     @pytest.mark.parametrize("model", MODELS)
2026-01-25T00:17:18.5391459Z     @pytest.mark.parametrize("tp_size", TENSOR_PARALLELS)
2026-01-25T00:17:18.5391907Z     @pytest.mark.parametrize("dp_size", DATA_PARALLELS)
2026-01-25T00:17:18.5392486Z     async def test_models(model: str, tp_size: int, dp_size: int) -> None:
2026-01-25T00:17:18.5392996Z         port = get_open_port()
2026-01-25T00:17:18.5393260Z         env_dict = {
2026-01-25T00:17:18.5393536Z             "HCCL_OP_EXPANSION_MODE": "AIV",
2026-01-25T00:17:18.5394444Z             "OMP_PROC_BIND": "false",
2026-01-25T00:17:18.5394989Z             "OMP_NUM_THREADS": "1",
2026-01-25T00:17:18.5395289Z             "HCCL_BUFFSIZE": "1024",
2026-01-25T00:17:18.5395696Z             "VLLM_ASCEND_ENABLE_MLAPO": "1",
2026-01-25T00:17:18.5396375Z             "PYTORCH_NPU_ALLOC_CONF": "expandable_segments:True",
2026-01-25T00:17:18.5396784Z             "VLLM_ASCEND_ENABLE_FLASHCOMM1": "1",
2026-01-25T00:17:18.5397111Z         }
2026-01-25T00:17:18.5397321Z     
2026-01-25T00:17:18.5397636Z         server_args = [
2026-01-25T00:17:18.5398223Z             "--enable-expert-parallel", "--tensor-parallel-size",
2026-01-25T00:17:18.5398790Z             str(tp_size), "--data-parallel-size",
2026-01-25T00:17:18.5399129Z             str(dp_size), "--port",
2026-01-25T00:17:18.5399534Z             str(port), "--max-model-len", "8192", "--max-num-batched-tokens",
2026-01-25T00:17:18.5400226Z             "8192", "--max-num-seqs", "4", "--trust-remote-code", "--quantization",
2026-01-25T00:17:18.5401122Z             "ascend", "--gpu-memory-utilization", "0.92", "--compilation-config",
2026-01-25T00:17:18.5401744Z             '{"cudagraph_capture_sizes":[3, 6, 9, 12], "cudagraph_mode":"FULL_DECODE_ONLY"}',
2026-01-25T00:17:18.5402225Z             "--speculative-config",
2026-01-25T00:17:18.5402608Z             '{"num_speculative_tokens": 2, "method":"deepseek_mtp"}',
2026-01-25T00:17:18.5402999Z             "--additional-config",
2026-01-25T00:17:18.5403338Z             '{"layer_sharding": ["q_b_proj", "o_proj"]}',
2026-01-25T00:17:18.5404035Z             "--reasoning-parser", "deepseek_v3", "--tokenizer_mode", "deepseek_v32"
2026-01-25T00:17:18.5404804Z         ]
2026-01-25T00:17:18.5405327Z         request_keyword_args: dict[str, Any] = {
2026-01-25T00:17:18.5405936Z             **api_keyword_args,
2026-01-25T00:17:18.5406386Z         }
2026-01-25T00:17:18.5406768Z >       with RemoteOpenAIServer(model,
2026-01-25T00:17:18.5407352Z                                 server_args,
2026-01-25T00:17:18.5407944Z                                 server_port=port,
2026-01-25T00:17:18.5408562Z                                 env_dict=env_dict,
2026-01-25T00:17:18.5409535Z                                 auto_port=False) as server:
2026-01-25T00:17:18.5409876Z 
2026-01-25T00:17:18.5410096Z tests/e2e/nightly/single_node/models/test_deepseek_v3_2_w8a8.py:95: 
2026-01-25T00:17:18.5410595Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2026-01-25T00:17:18.5410985Z tests/e2e/conftest.py:296: in __init__
2026-01-25T00:17:18.5411311Z     self._wait_for_multiple_servers(
2026-01-25T00:17:18.5411663Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2026-01-25T00:17:18.5411957Z 
2026-01-25T00:17:18.5412193Z self = <tests.e2e.conftest.RemoteOpenAIServer object at 0xffff06814950>
2026-01-25T00:17:18.5412834Z targets = [('0.0.0.0', 'http://0.0.0.0:36351/health')], timeout = 2800
2026-01-25T00:17:18.5413241Z log_interval = 30.0
2026-01-25T00:17:18.5413384Z 
2026-01-25T00:17:18.5413509Z     def _wait_for_multiple_servers(self,
2026-01-25T00:17:18.5413930Z                                    targets,
2026-01-25T00:17:18.5414266Z                                    timeout: float,
2026-01-25T00:17:18.5414624Z                                    log_interval: float = 30.0):
2026-01-25T00:17:18.5415119Z         """
2026-01-25T00:17:18.5415344Z         targets: List[(node_ip, url)]
2026-01-25T00:17:18.5415651Z         log_interval
2026-01-25T00:17:18.5415916Z         """
2026-01-25T00:17:18.5416205Z         start = time.time()
2026-01-25T00:17:18.5416483Z         client = requests
2026-01-25T00:17:18.5416720Z     
2026-01-25T00:17:18.5416986Z         ready = {node_ip: False for node_ip, _ in targets}
2026-01-25T00:17:18.5417322Z     
2026-01-25T00:17:18.5417536Z         last_log_time = 0.0
2026-01-25T00:17:18.5417781Z     
2026-01-25T00:17:18.5418005Z         while True:
2026-01-25T00:17:18.5418389Z             now = time.time()
2026-01-25T00:17:18.5418839Z             all_ready = True
2026-01-25T00:17:18.5419187Z             should_log = (now - last_log_time) >= log_interval
2026-01-25T00:17:18.5419531Z     
2026-01-25T00:17:18.5419762Z             for node_ip, url in targets:
2026-01-25T00:17:18.5420067Z                 if ready[node_ip]:
2026-01-25T00:17:18.5420356Z                     continue
2026-01-25T00:17:18.5420613Z     
2026-01-25T00:17:18.5420796Z                 try:
2026-01-25T00:17:18.5421049Z                     resp = client.get(url)
2026-01-25T00:17:18.5421375Z                     if resp.status_code == 200:
2026-01-25T00:17:18.5421725Z                         ready[node_ip] = True
2026-01-25T00:17:18.5422098Z                         logger.info(f"[READY] Node {node_ip} is ready.")
2026-01-25T00:17:18.5422502Z                 except RequestException:
2026-01-25T00:17:18.5422840Z                     all_ready = False
2026-01-25T00:17:18.5423233Z                     if should_log:
2026-01-25T00:17:18.5423593Z                         logger.debug(f"[WAIT] {url}: connection failed")
2026-01-25T00:17:18.5424195Z     
2026-01-25T00:17:18.5424423Z                     # check unexpected exit
2026-01-25T00:17:18.5424743Z                     result = self._poll()
2026-01-25T00:17:18.5425302Z                     if result is not None and result != 0:
2026-01-25T00:17:18.5425648Z >                       raise RuntimeError(
2026-01-25T00:17:18.5426022Z                             f"Server at {node_ip} exited unexpectedly."
2026-01-25T00:17:18.5426387Z                         ) from None
2026-01-25T00:17:18.5426921Z E                       RuntimeError: Server at 0.0.0.0 exited unexpectedly.
2026-01-25T00:17:18.5427258Z 
2026-01-25T00:17:18.5427386Z tests/e2e/conftest.py:389: RuntimeError
2026-01-25T00:17:18.5427805Z ------------------------------ Captured log call -------------------------------
2026-01-25T00:17:18.5430951Z INFO     tests.e2e.conftest:conftest.py:231 Starting server with command: vllm serve vllm-ascend/DeepSeek-V3.2-W8A8 --enable-expert-parallel --tensor-parallel-size 8 --data-parallel-size 2 --port 36351 --max-model-len 8192 --max-num-batched-tokens 8192 --max-num-seqs 4 --trust-remote-code --quantization ascend --gpu-memory-utilization 0.92 --compilation-config {"cudagraph_capture_sizes":[3, 6, 9, 12], "cudagraph_mode":"FULL_DECODE_ONLY"} --speculative-config {"num_speculative_tokens": 2, "method":"deepseek_mtp"} --additional-config {"layer_sharding": ["q_b_proj", "o_proj"]} --reasoning-parser deepseek_v3 --tokenizer_mode deepseek_v32
2026-01-25T00:17:18.5434714Z =============================== warnings summary ===============================
2026-01-25T00:17:18.5435379Z <frozen importlib._bootstrap>:241
2026-01-25T00:17:18.5436208Z   <frozen importlib._bootstrap>:241: DeprecationWarning: builtin type SwigPyPacked has no __module__ attribute
2026-01-25T00:17:18.5437305Z 
2026-01-25T00:17:18.5437432Z <frozen importlib._bootstrap>:241
2026-01-25T00:17:18.5438013Z   <frozen importlib._bootstrap>:241: DeprecationWarning: builtin type SwigPyObject has no __module__ attribute
2026-01-25T00:17:18.5438533Z 
2026-01-25T00:17:18.5438789Z -- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
2026-01-25T00:17:18.5439314Z =========================== short test summary info ============================
2026-01-25T00:17:18.5440316Z FAILED tests/e2e/nightly/single_node/models/test_deepseek_v3_2_w8a8.py::test_models[2-8-vllm-ascend/DeepSeek-V3.2-W8A8] - RuntimeError: Server at 0.0.0.0 exited unexpectedly.
2026-01-25T00:17:18.5441272Z ======================== 1 failed, 2 warnings in 15.99s ========================
2026-01-25T00:17:20.2400304Z ##[error]Error: failed to run script step: Error: command terminated with non-zero exit code: command terminated with exit code 1
2026-01-25T00:17:20.2458523Z ##[error]Process completed with exit code 1.
2026-01-25T00:17:20.2546584Z ##[error]Executing the custom container implementation failed. Please contact your self hosted runner administrator.
2026-01-25T00:17:20.2605909Z ##[group]Run '/home/runner/k8s/index.js'
2026-01-25T00:17:20.2607035Z shell: /home/runner/externals/node20/bin/node {0}
2026-01-25T00:17:20.2607411Z ##[endgroup]
2026-01-25T00:17:20.9301916Z Cleaning up orphan processes
