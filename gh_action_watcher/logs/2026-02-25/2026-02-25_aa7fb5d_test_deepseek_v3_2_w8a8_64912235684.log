# Run ID: 22407018984
# Commit: aa7fb5d7073b70b35445ad87bcc1fbf6aca34df1
# Job: single-node (deepseek3_2-w8a8, linux-aarch64-a3-16, tests/e2e/nightly/single_node/models/test_dee... / tests/e2e/nightly/single_node/models/test_deepseek_v3_2_w8a8.py
# Date: 2026-02-25
============================================================

ï»¿2026-02-25T22:39:59.6210405Z Current runner version: '2.330.0'
2026-02-25T22:39:59.6214836Z Runner name: 'linux-aarch64-a3-16-jl5bl-runner-l9k87'
2026-02-25T22:39:59.6215635Z Runner group name: 'Default'
2026-02-25T22:39:59.6216403Z Machine name: 'linux-aarch64-a3-16-jl5bl-runner-l9k87'
2026-02-25T22:39:59.6219788Z ##[group]GITHUB_TOKEN Permissions
2026-02-25T22:39:59.6221663Z Actions: write
2026-02-25T22:39:59.6222244Z ArtifactMetadata: write
2026-02-25T22:39:59.6222693Z Attestations: write
2026-02-25T22:39:59.6223112Z Checks: write
2026-02-25T22:39:59.6223450Z Contents: write
2026-02-25T22:39:59.6223862Z Deployments: write
2026-02-25T22:39:59.6224218Z Discussions: write
2026-02-25T22:39:59.6224588Z Issues: write
2026-02-25T22:39:59.6224944Z Metadata: read
2026-02-25T22:39:59.6225317Z Models: read
2026-02-25T22:39:59.6225772Z Packages: write
2026-02-25T22:39:59.6226260Z Pages: write
2026-02-25T22:39:59.6226629Z PullRequests: write
2026-02-25T22:39:59.6227002Z RepositoryProjects: write
2026-02-25T22:39:59.6227542Z SecurityEvents: write
2026-02-25T22:39:59.6228041Z Statuses: write
2026-02-25T22:39:59.6228419Z ##[endgroup]
2026-02-25T22:39:59.6230103Z Secret source: Actions
2026-02-25T22:39:59.6230577Z Prepare workflow directory
2026-02-25T22:39:59.7008968Z Prepare all required actions
2026-02-25T22:39:59.7058554Z Uses: vllm-project/vllm-ascend/.github/workflows/_e2e_nightly_single_node.yaml@refs/heads/main (aa7fb5d7073b70b35445ad87bcc1fbf6aca34df1)
2026-02-25T22:39:59.7062353Z ##[group] Inputs
2026-02-25T22:39:59.7062818Z   runner: linux-aarch64-a3-16
2026-02-25T22:39:59.7063517Z   image: swr.cn-southwest-2.myhuaweicloud.com/base_image/ascend-ci/vllm-ascend:nightly-a3
2026-02-25T22:39:59.7064327Z   tests: tests/e2e/nightly/single_node/models/test_deepseek_v3_2_w8a8.py
2026-02-25T22:39:59.7064993Z   name: deepseek3_2-w8a8
2026-02-25T22:39:59.7065433Z ##[endgroup]
2026-02-25T22:39:59.7066540Z Complete job name: single-node (deepseek3_2-w8a8, linux-aarch64-a3-16, tests/e2e/nightly/single_node/models/test_dee... / tests/e2e/nightly/single_node/models/test_deepseek_v3_2_w8a8.py
2026-02-25T22:39:59.7550302Z ##[group]Run '/home/runner/k8s/index.js'
2026-02-25T22:39:59.7557738Z shell: /home/runner/externals/node20/bin/node {0}
2026-02-25T22:39:59.7558602Z ##[endgroup]
2026-02-25T22:40:31.2844397Z (node:54) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
2026-02-25T22:40:31.2845388Z (Use `node --trace-deprecation ...` to show where the warning was created)
2026-02-25T22:40:31.8488325Z ##[group]Run npu-smi info
2026-02-25T22:40:31.8488731Z [36;1mnpu-smi info[0m
2026-02-25T22:40:31.8489225Z [36;1mcat /usr/local/Ascend/ascend-toolkit/latest/"$(uname -i)"-linux/ascend_toolkit_install.info[0m
2026-02-25T22:40:31.8490017Z shell: bash -el {0}
2026-02-25T22:40:31.8490274Z env:
2026-02-25T22:40:31.8490516Z   HF_HUB_OFFLINE: 1
2026-02-25T22:40:31.8490789Z   VLLM_USE_MODELSCOPE: true
2026-02-25T22:40:31.8491043Z ##[endgroup]
2026-02-25T22:40:31.8633624Z ##[group]Run '/home/runner/k8s/index.js'
2026-02-25T22:40:31.8634760Z shell: /home/runner/externals/node20/bin/node {0}
2026-02-25T22:40:31.8635103Z ##[endgroup]
2026-02-25T22:40:32.2276911Z (node:81) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
2026-02-25T22:40:32.2277845Z (Use `node --trace-deprecation ...` to show where the warning was created)
2026-02-25T22:40:34.9788577Z +------------------------------------------------------------------------------------------------+
2026-02-25T22:40:34.9789340Z | npu-smi 25.5.0                   Version: 25.5.0                                               |
2026-02-25T22:40:34.9789846Z +---------------------------+---------------+----------------------------------------------------+
2026-02-25T22:40:34.9790352Z | NPU   Name                | Health        | Power(W)    Temp(C)           Hugepages-Usage(page)|
2026-02-25T22:40:34.9791185Z | Chip  Phy-ID              | Bus-Id        | AICore(%)   Memory-Usage(MB)  HBM-Usage(MB)        |
2026-02-25T22:40:34.9791638Z +===========================+===============+====================================================+
2026-02-25T22:40:34.9792174Z | 0     Ascend910           | OK            | 176.4       35                0    / 0             |
2026-02-25T22:40:34.9792773Z | 0     0                   | 0000:9D:00.0  | 0           0    / 0          3164 / 65536         |
2026-02-25T22:40:34.9793226Z +------------------------------------------------------------------------------------------------+
2026-02-25T22:40:34.9793748Z | 0     Ascend910           | OK            | -           37                0    / 0             |
2026-02-25T22:40:34.9794214Z | 1     1                   | 0000:9F:00.0  | 0           0    / 0          2877 / 65536         |
2026-02-25T22:40:34.9794658Z +===========================+===============+====================================================+
2026-02-25T22:40:34.9795168Z | 1     Ascend910           | OK            | 170.1       36                0    / 0             |
2026-02-25T22:40:34.9795611Z | 0     2                   | 0000:99:00.0  | 0           0    / 0          3158 / 65536         |
2026-02-25T22:40:34.9796120Z +------------------------------------------------------------------------------------------------+
2026-02-25T22:40:34.9796612Z | 1     Ascend910           | OK            | -           34                0    / 0             |
2026-02-25T22:40:34.9797067Z | 1     3                   | 0000:9B:00.0  | 0           0    / 0          2879 / 65536         |
2026-02-25T22:40:34.9797467Z +===========================+===============+====================================================+
2026-02-25T22:40:34.9797861Z | 2     Ascend910           | OK            | 166.3       36                0    / 0             |
2026-02-25T22:40:34.9798323Z | 0     4                   | 0000:95:00.0  | 0           0    / 0          3157 / 65536         |
2026-02-25T22:40:34.9798823Z +------------------------------------------------------------------------------------------------+
2026-02-25T22:40:34.9799273Z | 2     Ascend910           | OK            | -           36                0    / 0             |
2026-02-25T22:40:34.9799702Z | 1     5                   | 0000:97:00.0  | 0           0    / 0          2878 / 65536         |
2026-02-25T22:40:34.9800072Z +===========================+===============+====================================================+
2026-02-25T22:40:34.9800579Z | 3     Ascend910           | OK            | 165.5       37                0    / 0             |
2026-02-25T22:40:34.9800981Z | 0     6                   | 0000:91:00.0  | 0           0    / 0          3146 / 65536         |
2026-02-25T22:40:34.9801451Z +------------------------------------------------------------------------------------------------+
2026-02-25T22:40:34.9801916Z | 3     Ascend910           | OK            | -           35                0    / 0             |
2026-02-25T22:40:34.9802420Z | 1     7                   | 0000:93:00.0  | 0           0    / 0          2889 / 65536         |
2026-02-25T22:40:34.9802839Z +===========================+===============+====================================================+
2026-02-25T22:40:34.9803230Z | 4     Ascend910           | OK            | 176.4       37                0    / 0             |
2026-02-25T22:40:34.9803678Z | 0     8                   | 0000:8D:00.0  | 0           0    / 0          3166 / 65536         |
2026-02-25T22:40:34.9804135Z +------------------------------------------------------------------------------------------------+
2026-02-25T22:40:34.9804568Z | 4     Ascend910           | OK            | -           36                0    / 0             |
2026-02-25T22:40:34.9804976Z | 1     9                   | 0000:8F:00.0  | 0           0    / 0          2883 / 65536         |
2026-02-25T22:40:34.9805427Z +===========================+===============+====================================================+
2026-02-25T22:40:34.9805954Z | 5     Ascend910           | OK            | 169.8       35                0    / 0             |
2026-02-25T22:40:34.9806377Z | 0     10                  | 0000:89:00.0  | 0           0    / 0          3147 / 65536         |
2026-02-25T22:40:34.9806796Z +------------------------------------------------------------------------------------------------+
2026-02-25T22:40:34.9807263Z | 5     Ascend910           | OK            | -           37                0    / 0             |
2026-02-25T22:40:34.9807678Z | 1     11                  | 0000:8B:00.0  | 0           0    / 0          2890 / 65536         |
2026-02-25T22:40:35.2801844Z +===========================+===============+====================================================+
2026-02-25T22:40:35.2802424Z | 6     Ascend910           | OK            | 170.4       37                0    / 0             |
2026-02-25T22:40:35.2802805Z | 0     12                  | 0000:85:00.0  | 0           0    / 0          3144 / 65536         |
2026-02-25T22:40:35.2803276Z +------------------------------------------------------------------------------------------------+
2026-02-25T22:40:35.2803749Z | 6     Ascend910           | OK            | -           37                0    / 0             |
2026-02-25T22:40:35.2804115Z | 1     13                  | 0000:87:00.0  | 0           0    / 0          2887 / 65536         |
2026-02-25T22:40:35.2804474Z +===========================+===============+====================================================+
2026-02-25T22:40:35.2804852Z | 7     Ascend910           | OK            | 169.4       34                0    / 0             |
2026-02-25T22:40:35.2805305Z | 0     14                  | 0000:81:00.0  | 0           0    / 0          3139 / 65536         |
2026-02-25T22:40:35.2805705Z +------------------------------------------------------------------------------------------------+
2026-02-25T22:40:35.2806081Z | 7     Ascend910           | OK            | -           34                0    / 0             |
2026-02-25T22:40:35.2806459Z | 1     15                  | 0000:83:00.0  | 0           0    / 0          2887 / 65536         |
2026-02-25T22:40:35.2806852Z +===========================+===============+====================================================+
2026-02-25T22:40:35.2807268Z +---------------------------+---------------+----------------------------------------------------+
2026-02-25T22:40:35.2807713Z | NPU     Chip              | Process id    | Process name             | Process memory(MB)      |
2026-02-25T22:40:35.2808533Z +===========================+===============+====================================================+
2026-02-25T22:40:35.2809001Z | No running processes found in NPU 0                                                            |
2026-02-25T22:40:35.2809392Z +===========================+===============+====================================================+
2026-02-25T22:40:35.2809740Z | No running processes found in NPU 1                                                            |
2026-02-25T22:40:35.2810163Z +===========================+===============+====================================================+
2026-02-25T22:40:35.2810546Z | No running processes found in NPU 2                                                            |
2026-02-25T22:40:35.2810888Z +===========================+===============+====================================================+
2026-02-25T22:40:35.2811274Z | No running processes found in NPU 3                                                            |
2026-02-25T22:40:35.2811625Z +===========================+===============+====================================================+
2026-02-25T22:40:35.2812075Z | No running processes found in NPU 4                                                            |
2026-02-25T22:40:35.2812479Z +===========================+===============+====================================================+
2026-02-25T22:40:35.2812832Z | No running processes found in NPU 5                                                            |
2026-02-25T22:40:35.2813311Z +===========================+===============+====================================================+
2026-02-25T22:40:35.2813679Z | No running processes found in NPU 6                                                            |
2026-02-25T22:40:35.2814094Z +===========================+===============+====================================================+
2026-02-25T22:40:35.2814554Z | No running processes found in NPU 7                                                            |
2026-02-25T22:40:35.2814944Z +===========================+===============+====================================================+
2026-02-25T22:40:35.2852827Z package_name=Ascend-cann-toolkit
2026-02-25T22:40:35.2853057Z version=8.5.0
2026-02-25T22:40:35.2853324Z innerversion=V100R001C25SPC001B232
2026-02-25T22:40:35.2853723Z compatible_version=[V100R001C15],[V100R001C18],[V100R001C19],[V100R001C20],[V100R001C21],[V100R001C23]
2026-02-25T22:40:35.2854073Z arch=aarch64
2026-02-25T22:40:35.2854303Z os=linux
2026-02-25T22:40:35.2854510Z path=/usr/local/Ascend/cann-8.5.0
2026-02-25T22:40:35.6989836Z ##[group]Run echo "Installed vLLM-related Python packages:"
2026-02-25T22:40:35.6990327Z [36;1mecho "Installed vLLM-related Python packages:"[0m
2026-02-25T22:40:35.6990642Z [36;1mpip list | grep vllm || echo "No vllm packages found."[0m
2026-02-25T22:40:35.6990975Z [36;1m[0m
2026-02-25T22:40:35.6991154Z [36;1mecho ""[0m
2026-02-25T22:40:35.6991383Z [36;1mecho "============================"[0m
2026-02-25T22:40:35.6991705Z [36;1mecho "vLLM Git information"[0m
2026-02-25T22:40:35.6992082Z [36;1mecho "============================"[0m
2026-02-25T22:40:35.6992329Z [36;1mcd vllm[0m
2026-02-25T22:40:35.6992627Z [36;1mif [ -d .git ]; then[0m
2026-02-25T22:40:35.6992934Z [36;1m  echo "Branch:      $(git rev-parse --abbrev-ref HEAD)"[0m
2026-02-25T22:40:35.6993243Z [36;1m  echo "Commit hash: $(git rev-parse HEAD)"[0m
2026-02-25T22:40:35.6993588Z [36;1m  echo "Author:      $(git log -1 --pretty=format:'%an <%ae>')"[0m
2026-02-25T22:40:35.6994043Z [36;1m  echo "Date:        $(git log -1 --pretty=format:'%ad' --date=iso)"[0m
2026-02-25T22:40:35.6994411Z [36;1m  echo "Message:     $(git log -1 --pretty=format:'%s')"[0m
2026-02-25T22:40:35.6994747Z [36;1m  echo "Tags:        $(git tag --points-at HEAD || echo 'None')"[0m
2026-02-25T22:40:35.6995106Z [36;1m  echo "Remote:      $(git remote -v | head -n1)"[0m
2026-02-25T22:40:35.6995456Z [36;1m  echo ""[0m
2026-02-25T22:40:35.6995672Z [36;1melse[0m
2026-02-25T22:40:35.6995908Z [36;1m  echo "No .git directory found in vllm"[0m
2026-02-25T22:40:35.6996139Z [36;1mfi[0m
2026-02-25T22:40:35.6996421Z [36;1mcd ..[0m
2026-02-25T22:40:35.6996597Z [36;1m[0m
2026-02-25T22:40:35.6996783Z [36;1mecho ""[0m
2026-02-25T22:40:35.6997001Z [36;1mecho "============================"[0m
2026-02-25T22:40:35.6997277Z [36;1mecho "vLLM-Ascend Git information"[0m
2026-02-25T22:40:35.6997538Z [36;1mecho "============================"[0m
2026-02-25T22:40:35.6997796Z [36;1mcd vllm-ascend[0m
2026-02-25T22:40:35.6998049Z [36;1mif [ -d .git ]; then[0m
2026-02-25T22:40:35.6998312Z [36;1m  echo "Branch:      $(git rev-parse --abbrev-ref HEAD)"[0m
2026-02-25T22:40:35.6998663Z [36;1m  echo "Commit hash: $(git rev-parse HEAD)"[0m
2026-02-25T22:40:35.6998998Z [36;1m  echo "Author:      $(git log -1 --pretty=format:'%an <%ae>')"[0m
2026-02-25T22:40:35.6999342Z [36;1m  echo "Date:        $(git log -1 --pretty=format:'%ad' --date=iso)"[0m
2026-02-25T22:40:35.6999776Z [36;1m  echo "Message:     $(git log -1 --pretty=format:'%s')"[0m
2026-02-25T22:40:35.7000101Z [36;1m  echo "Tags:        $(git tag --points-at HEAD || echo 'None')"[0m
2026-02-25T22:40:35.7000451Z [36;1m  echo "Remote:      $(git remote -v | head -n1)"[0m
2026-02-25T22:40:35.7000748Z [36;1m  echo ""[0m
2026-02-25T22:40:35.7000935Z [36;1melse[0m
2026-02-25T22:40:35.7001185Z [36;1m  echo "No .git directory found in vllm-ascend"[0m
2026-02-25T22:40:35.7001435Z [36;1mfi[0m
2026-02-25T22:40:35.7001646Z [36;1mcd ..[0m
2026-02-25T22:40:35.7002382Z shell: bash -el {0}
2026-02-25T22:40:35.7002603Z env:
2026-02-25T22:40:35.7002800Z   HF_HUB_OFFLINE: 1
2026-02-25T22:40:35.7003030Z   VLLM_USE_MODELSCOPE: true
2026-02-25T22:40:35.7003315Z ##[endgroup]
2026-02-25T22:40:35.7082860Z ##[group]Run '/home/runner/k8s/index.js'
2026-02-25T22:40:35.7083755Z shell: /home/runner/externals/node20/bin/node {0}
2026-02-25T22:40:35.7084054Z ##[endgroup]
2026-02-25T22:40:36.0684084Z (node:113) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
2026-02-25T22:40:36.0684797Z (Use `node --trace-deprecation ...` to show where the warning was created)
2026-02-25T22:40:36.8994316Z Installed vLLM-related Python packages:
2026-02-25T22:40:38.0535253Z ais_bench_benchmark               3.0.20250930                /vllm-workspace/vllm-ascend/benchmark
2026-02-25T22:40:38.0535802Z vllm                              0.15.0+empty                /vllm-workspace/vllm
2026-02-25T22:40:38.0536565Z vllm_ascend                       0.14.0rc2.dev189+ge3927cc8f /vllm-workspace/vllm-ascend
2026-02-25T22:40:38.0536942Z 
2026-02-25T22:40:38.0537034Z ============================
2026-02-25T22:40:38.0537244Z vLLM Git information
2026-02-25T22:40:38.0537503Z ============================
2026-02-25T22:40:38.0746139Z Branch:      HEAD
2026-02-25T22:40:38.0766572Z Commit hash: f176443446f659dbab5315e056e605d8984fd976
2026-02-25T22:40:38.0846702Z Author:      TJian <tunjian.tan@embeddedllm.com>
2026-02-25T22:40:38.0869997Z Date:        2026-01-29 14:45:42 +0800
2026-02-25T22:40:38.0892355Z Message:     [Release] [CI] Optim release pipeline (#33156)
2026-02-25T22:40:38.0917383Z Tags:        v0.15.0
2026-02-25T22:40:38.0947243Z Remote:      origin	https://gh-proxy.test.osinfra.cn/https://github.com/vllm-project/vllm.git (fetch)
2026-02-25T22:40:38.0947909Z 
2026-02-25T22:40:38.0947913Z 
2026-02-25T22:40:38.0948007Z ============================
2026-02-25T22:40:38.0948277Z vLLM-Ascend Git information
2026-02-25T22:40:38.0948507Z ============================
2026-02-25T22:40:38.1007300Z Branch:      main
2026-02-25T22:40:38.1026768Z Commit hash: e3927cc8f57ee9bdc58db1d0365dfb6af9375b02
2026-02-25T22:40:38.1106789Z Author:      bowenli <125331496+Bowen-Leee@users.noreply.github.com>
2026-02-25T22:40:38.1149516Z Date:        2026-02-25 17:50:57 +0800
2026-02-25T22:40:38.1213589Z Message:     [Bugfix] fix bug for mtp (#6514)
2026-02-25T22:40:38.1465369Z Tags:        
2026-02-25T22:40:38.1498389Z Remote:      origin	https://gh-proxy.test.osinfra.cn/https://github.com/vllm-project/vllm-ascend (fetch)
2026-02-25T22:40:38.1498833Z 
2026-02-25T22:40:38.5686576Z ##[group]Run apt-get update && apt-get -y install clang-15
2026-02-25T22:40:38.5687000Z [36;1mapt-get update && apt-get -y install clang-15[0m
2026-02-25T22:40:38.5687433Z [36;1mupdate-alternatives --install /usr/bin/clang clang /usr/bin/clang-15 20[0m
2026-02-25T22:40:38.5687965Z [36;1mupdate-alternatives --install /usr/bin/clang++ clang++ /usr/bin/clang++-15 20[0m
2026-02-25T22:40:38.5688455Z shell: bash -l {0}
2026-02-25T22:40:38.5688686Z env:
2026-02-25T22:40:38.5688915Z   HF_HUB_OFFLINE: 1
2026-02-25T22:40:38.5689117Z   VLLM_USE_MODELSCOPE: true
2026-02-25T22:40:38.5689370Z ##[endgroup]
2026-02-25T22:40:38.5771793Z ##[group]Run '/home/runner/k8s/index.js'
2026-02-25T22:40:38.5772731Z shell: /home/runner/externals/node20/bin/node {0}
2026-02-25T22:40:38.5773020Z ##[endgroup]
2026-02-25T22:40:38.9310244Z (node:156) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
2026-02-25T22:40:38.9310982Z (Use `node --trace-deprecation ...` to show where the warning was created)
2026-02-25T22:40:40.5685465Z Get:1 http://ports.ubuntu.com/ubuntu-ports jammy InRelease [270 kB]
2026-02-25T22:40:41.7829184Z Get:2 http://ports.ubuntu.com/ubuntu-ports jammy-updates InRelease [128 kB]
2026-02-25T22:40:42.0869308Z Get:3 http://ports.ubuntu.com/ubuntu-ports jammy-backports InRelease [127 kB]
2026-02-25T22:40:42.3892699Z Get:4 http://ports.ubuntu.com/ubuntu-ports jammy-security InRelease [129 kB]
2026-02-25T22:40:42.6956281Z Get:5 http://ports.ubuntu.com/ubuntu-ports jammy/restricted arm64 Packages [24.2 kB]
2026-02-25T22:40:42.7178909Z Get:6 http://ports.ubuntu.com/ubuntu-ports jammy/universe arm64 Packages [17.2 MB]
2026-02-25T22:40:44.5983947Z Get:7 http://ports.ubuntu.com/ubuntu-ports jammy/main arm64 Packages [1758 kB]
2026-02-25T22:40:44.6957919Z Get:8 http://ports.ubuntu.com/ubuntu-ports jammy/multiverse arm64 Packages [224 kB]
2026-02-25T22:40:44.7200935Z Get:9 http://ports.ubuntu.com/ubuntu-ports jammy-updates/restricted arm64 Packages [6665 kB]
2026-02-25T22:40:45.2110150Z Get:10 http://ports.ubuntu.com/ubuntu-ports jammy-updates/universe arm64 Packages [1659 kB]
2026-02-25T22:40:45.3315947Z Get:11 http://ports.ubuntu.com/ubuntu-ports jammy-updates/main arm64 Packages [3873 kB]
2026-02-25T22:40:45.6098111Z Get:12 http://ports.ubuntu.com/ubuntu-ports jammy-updates/multiverse arm64 Packages [47.7 kB]
2026-02-25T22:40:45.6120969Z Get:13 http://ports.ubuntu.com/ubuntu-ports jammy-backports/universe arm64 Packages [35.3 kB]
2026-02-25T22:40:45.6145105Z Get:14 http://ports.ubuntu.com/ubuntu-ports jammy-backports/main arm64 Packages [83.5 kB]
2026-02-25T22:40:45.6206874Z Get:15 http://ports.ubuntu.com/ubuntu-ports jammy-security/main arm64 Packages [3550 kB]
2026-02-25T22:40:45.8755644Z Get:16 http://ports.ubuntu.com/ubuntu-ports jammy-security/restricted arm64 Packages [6456 kB]
2026-02-25T22:40:46.3377339Z Get:17 http://ports.ubuntu.com/ubuntu-ports jammy-security/universe arm64 Packages [1355 kB]
2026-02-25T22:40:46.4381880Z Get:18 http://ports.ubuntu.com/ubuntu-ports jammy-security/multiverse arm64 Packages [41.2 kB]
2026-02-25T22:40:46.6397050Z Fetched 43.6 MB in 7s (6413 kB/s)
2026-02-25T22:40:47.5309850Z Reading package lists...
2026-02-25T22:40:48.4713956Z Reading package lists...
2026-02-25T22:40:48.6690619Z Building dependency tree...
2026-02-25T22:40:48.6696959Z Reading state information...
2026-02-25T22:40:48.9014568Z clang-15 is already the newest version (1:15.0.7-0ubuntu0.22.04.3).
2026-02-25T22:40:48.9014996Z The following packages were automatically installed and are no longer required:
2026-02-25T22:40:48.9017647Z   autoconf automake autotools-dev file javascript-common libboost-atomic-dev
2026-02-25T22:40:48.9018168Z   libboost-atomic1.74-dev libboost-atomic1.74.0 libboost-chrono-dev
2026-02-25T22:40:48.9018589Z   libboost-chrono1.74-dev libboost-chrono1.74.0 libboost-container-dev
2026-02-25T22:40:48.9019409Z   libboost-container1.74-dev libboost-container1.74.0 libboost-context-dev
2026-02-25T22:40:48.9019900Z   libboost-context1.74-dev libboost-context1.74.0 libboost-coroutine-dev
2026-02-25T22:40:48.9020354Z   libboost-coroutine1.74-dev libboost-coroutine1.74.0 libboost-date-time-dev
2026-02-25T22:40:48.9020797Z   libboost-date-time1.74-dev libboost-date-time1.74.0 libboost-dev
2026-02-25T22:40:48.9021190Z   libboost-exception-dev libboost-exception1.74-dev libboost-fiber-dev
2026-02-25T22:40:48.9021618Z   libboost-fiber1.74-dev libboost-fiber1.74.0 libboost-filesystem-dev
2026-02-25T22:40:48.9022092Z   libboost-filesystem1.74-dev libboost-filesystem1.74.0 libboost-graph-dev
2026-02-25T22:40:48.9022533Z   libboost-graph-parallel-dev libboost-graph-parallel1.74-dev
2026-02-25T22:40:48.9022966Z   libboost-graph-parallel1.74.0 libboost-graph1.74-dev libboost-graph1.74.0
2026-02-25T22:40:48.9023387Z   libboost-iostreams-dev libboost-iostreams1.74-dev libboost-iostreams1.74.0
2026-02-25T22:40:48.9023821Z   libboost-locale-dev libboost-locale1.74-dev libboost-locale1.74.0
2026-02-25T22:40:48.9024210Z   libboost-log-dev libboost-log1.74-dev libboost-log1.74.0 libboost-math-dev
2026-02-25T22:40:48.9024678Z   libboost-math1.74-dev libboost-math1.74.0 libboost-mpi1.74.0
2026-02-25T22:40:48.9025102Z   libboost-nowide-dev libboost-nowide1.74-dev libboost-nowide1.74.0
2026-02-25T22:40:48.9025461Z   libboost-numpy-dev libboost-numpy1.74-dev libboost-numpy1.74.0
2026-02-25T22:40:48.9025960Z   libboost-program-options-dev libboost-program-options1.74-dev
2026-02-25T22:40:48.9026372Z   libboost-program-options1.74.0 libboost-python-dev libboost-python1.74-dev
2026-02-25T22:40:48.9026797Z   libboost-python1.74.0 libboost-random-dev libboost-random1.74-dev
2026-02-25T22:40:48.9027173Z   libboost-random1.74.0 libboost-regex-dev libboost-regex1.74-dev
2026-02-25T22:40:48.9027544Z   libboost-regex1.74.0 libboost-serialization-dev
2026-02-25T22:40:48.9027887Z   libboost-serialization1.74-dev libboost-serialization1.74.0
2026-02-25T22:40:48.9028234Z   libboost-stacktrace-dev libboost-stacktrace1.74-dev
2026-02-25T22:40:48.9028618Z   libboost-stacktrace1.74.0 libboost-system-dev libboost-system1.74-dev
2026-02-25T22:40:48.9029355Z   libboost-system1.74.0 libboost-test-dev libboost-test1.74-dev
2026-02-25T22:40:48.9029764Z   libboost-test1.74.0 libboost-thread-dev libboost-thread1.74-dev
2026-02-25T22:40:48.9030159Z   libboost-thread1.74.0 libboost-timer-dev libboost-timer1.74-dev
2026-02-25T22:40:48.9030548Z   libboost-timer1.74.0 libboost-tools-dev libboost-type-erasure-dev
2026-02-25T22:40:48.9030992Z   libboost-type-erasure1.74-dev libboost-type-erasure1.74.0 libboost-wave-dev
2026-02-25T22:40:48.9031374Z   libboost-wave1.74-dev libboost-wave1.74.0 libboost1.74-dev
2026-02-25T22:40:48.9031801Z   libboost1.74-tools-dev libcaf-openmpi-3 libcoarrays-dev libevent-2.1-7
2026-02-25T22:40:48.9032337Z   libevent-core-2.1-7 libevent-dev libevent-extra-2.1-7 libevent-openssl-2.1-7
2026-02-25T22:40:48.9032786Z   libevent-pthreads-2.1-7 libhwloc-dev libjs-jquery libjs-jquery-ui
2026-02-25T22:40:48.9033210Z   libjs-sphinxdoc libjs-underscore libltdl-dev libltdl7 libmagic-mgc libmagic1
2026-02-25T22:40:48.9033617Z   libopenmpi3 libpmix-dev libpmix2 libsigsegv2 libtool libucx0 m4
2026-02-25T22:40:48.9037573Z   openmpi-common python3-dev python3-distutils python3-lib2to3 python3.10-dev
2026-02-25T22:40:48.9037914Z Use 'apt autoremove' to remove them.
2026-02-25T22:40:48.9332504Z 0 upgraded, 0 newly installed, 0 to remove and 13 not upgraded.
2026-02-25T22:40:49.4028482Z ##[group]Run # ignore test_dispatch_ffn_combine until the test is fixed
2026-02-25T22:40:49.4029068Z [36;1m# ignore test_dispatch_ffn_combine until the test is fixed[0m
2026-02-25T22:40:49.4029505Z [36;1mpytest -sv tests/e2e/nightly/single_node/models/test_deepseek_v3_2_w8a8.py \[0m
2026-02-25T22:40:49.4030063Z [36;1m--ignore=tests/e2e/nightly/single_node/ops/singlecard_ops/test_fused_moe.py[0m
2026-02-25T22:40:49.4030544Z shell: bash -el {0}
2026-02-25T22:40:49.4030776Z env:
2026-02-25T22:40:49.4030986Z   HF_HUB_OFFLINE: 1
2026-02-25T22:40:49.4031184Z   VLLM_USE_MODELSCOPE: true
2026-02-25T22:40:49.4031448Z   VLLM_WORKER_MULTIPROC_METHOD: spawn
2026-02-25T22:40:49.4031698Z   VLLM_CI_RUNNER: linux-aarch64-a3-16
2026-02-25T22:40:49.4032176Z   BENCHMARK_HOME: /vllm-workspace/vllm-ascend/benchmark
2026-02-25T22:40:49.4032451Z ##[endgroup]
2026-02-25T22:40:49.4146707Z ##[group]Run '/home/runner/k8s/index.js'
2026-02-25T22:40:49.4147705Z shell: /home/runner/externals/node20/bin/node {0}
2026-02-25T22:40:49.4148014Z ##[endgroup]
2026-02-25T22:40:49.7651403Z (node:211) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
2026-02-25T22:40:49.7652240Z (Use `node --trace-deprecation ...` to show where the warning was created)
2026-02-25T22:41:04.5342770Z INFO 02-25 22:41:04 [__init__.py:43] Available plugins for group vllm.platform_plugins:
2026-02-25T22:41:04.5344293Z INFO 02-25 22:41:04 [__init__.py:45] - ascend -> vllm_ascend:register
2026-02-25T22:41:04.5344843Z INFO 02-25 22:41:04 [__init__.py:48] All plugins in this group will be loaded. Set `VLLM_PLUGINS` to control which plugins to load.
2026-02-25T22:41:04.5834410Z INFO 02-25 22:41:04 [__init__.py:217] Platform plugin ascend is activated
2026-02-25T22:41:11.7488573Z ============================= test session starts ==============================
2026-02-25T22:41:11.7489403Z platform linux -- Python 3.11.14, pytest-8.4.2, pluggy-1.6.0 -- /usr/local/python3.11.14/bin/python3
2026-02-25T22:41:11.7489780Z cachedir: .pytest_cache
2026-02-25T22:41:11.7490100Z rootdir: /vllm-workspace/vllm-ascend
2026-02-25T22:41:11.7490351Z configfile: pyproject.toml
2026-02-25T22:41:11.7490670Z plugins: mock-3.15.1, asyncio-1.3.0, cov-7.0.0, anyio-4.12.1
2026-02-25T22:41:11.7491186Z asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
2026-02-25T22:41:12.5369226Z collecting ... collected 1 item
2026-02-25T22:41:12.5369460Z 
2026-02-25T22:41:12.5386639Z [2026-02-25 22:41:12] INFO conftest.py:241: Starting server with command: vllm serve vllm-ascend/DeepSeek-V3.2-W8A8 --enable-expert-parallel --tensor-parallel-size 8 --data-parallel-size 2 --port 54955 --max-model-len 8192 --max-num-batched-tokens 8192 --max-num-seqs 4 --trust-remote-code --quantization ascend --gpu-memory-utilization 0.92 --compilation-config {"cudagraph_capture_sizes":[3, 6, 9, 12], "cudagraph_mode":"FULL_DECODE_ONLY"} --speculative-config {"num_speculative_tokens": 2, "method":"deepseek_mtp"} --additional-config {"layer_sharding": ["q_b_proj", "o_proj"]} --reasoning-parser deepseek_v3 --tokenizer_mode deepseek_v32
2026-02-25T22:41:16.8708501Z tests/e2e/nightly/single_node/models/test_deepseek_v3_2_w8a8.py::test_models[2-8-vllm-ascend/DeepSeek-V3.2-W8A8] INFO 02-25 22:41:16 [__init__.py:43] Available plugins for group vllm.platform_plugins:
2026-02-25T22:41:16.8709326Z INFO 02-25 22:41:16 [__init__.py:45] - ascend -> vllm_ascend:register
2026-02-25T22:41:16.8709843Z INFO 02-25 22:41:16 [__init__.py:48] All plugins in this group will be loaded. Set `VLLM_PLUGINS` to control which plugins to load.
2026-02-25T22:41:16.8776181Z INFO 02-25 22:41:16 [__init__.py:217] Platform plugin ascend is activated
2026-02-25T22:41:23.1332687Z 2026-02-25 22:41:23,132 - 978 - vllmProfiler - INFO - VLLM_USE_V1 not set, auto-detected via vLLM 0.15.0+empty: default 1
2026-02-25T22:41:23.1639767Z INFO 02-25 22:41:23 [__init__.py:108] Registered model loader `<class 'vllm_ascend.model_loader.netloader.netloader.ModelNetLoaderElastic'>` with load format `netloader`
2026-02-25T22:41:23.3056398Z INFO 02-25 22:41:23 [serve.py:100] Defaulting api_server_count to data_parallel_size (2).
2026-02-25T22:41:23.3056890Z INFO 02-25 22:41:23 [utils.py:325] 
2026-02-25T22:41:23.3131222Z INFO 02-25 22:41:23 [utils.py:325]        â–ˆ     â–ˆ     â–ˆâ–„   â–„â–ˆ
2026-02-25T22:41:23.3133093Z INFO 02-25 22:41:23 [utils.py:325]  â–„â–„ â–„â–ˆ â–ˆ     â–ˆ     â–ˆ â–€â–„â–€ â–ˆ  version 0.15.0
2026-02-25T22:41:23.3133605Z INFO 02-25 22:41:23 [utils.py:325]   â–ˆâ–„â–ˆâ–€ â–ˆ     â–ˆ     â–ˆ     â–ˆ  model   vllm-ascend/DeepSeek-V3.2-W8A8
2026-02-25T22:41:23.3134070Z INFO 02-25 22:41:23 [utils.py:325]    â–€â–€  â–€â–€â–€â–€â–€ â–€â–€â–€â–€â–€ â–€     â–€
2026-02-25T22:41:23.3134330Z INFO 02-25 22:41:23 [utils.py:325] 
2026-02-25T22:41:23.3138201Z INFO 02-25 22:41:23 [utils.py:261] non-default args: {'model_tag': 'vllm-ascend/DeepSeek-V3.2-W8A8', 'api_server_count': 2, 'port': 54955, 'model': 'vllm-ascend/DeepSeek-V3.2-W8A8', 'tokenizer_mode': 'deepseek_v32', 'trust_remote_code': True, 'max_model_len': 8192, 'quantization': 'ascend', 'reasoning_parser': 'deepseek_v3', 'tensor_parallel_size': 8, 'data_parallel_size': 2, 'enable_expert_parallel': True, 'gpu_memory_utilization': 0.92, 'max_num_batched_tokens': 8192, 'max_num_seqs': 4, 'speculative_config': {'num_speculative_tokens': 2, 'method': 'deepseek_mtp'}, 'compilation_config': {'level': None, 'mode': None, 'debug_dump_path': None, 'cache_dir': '', 'compile_cache_save_format': 'binary', 'backend': 'vllm_ascend.compilation.compiler_interface.AscendCompiler', 'custom_ops': [], 'splitting_ops': None, 'compile_mm_encoder': False, 'compile_sizes': None, 'compile_ranges_split_points': None, 'inductor_compile_config': {'enable_auto_functionalized_v2': False, 'combo_kernels': True, 'benchmark_combo_kernel': True}, 'inductor_passes': {}, 'cudagraph_mode': <CUDAGraphMode.FULL_DECODE_ONLY: (2, 0)>, 'cudagraph_num_of_warmups': 0, 'cudagraph_capture_sizes': [3, 6, 9, 12], 'cudagraph_copy_inputs': False, 'cudagraph_specialize_lora': True, 'use_inductor_graph_partition': None, 'pass_config': {}, 'max_cudagraph_capture_size': None, 'dynamic_shapes_config': {'type': <DynamicShapesType.BACKED: 'backed'>, 'evaluate_guards': False, 'assume_32_bit_indexing': True}, 'local_cache_dir': None}, 'additional_config': {'layer_sharding': ['q_b_proj', 'o_proj']}}
2026-02-25T22:41:23.3590183Z 2026-02-25 22:41:23,357 - modelscope - WARNING - We can not confirm the cached file is for revision: master
2026-02-25T22:41:23.3645275Z INFO 02-25 22:41:23 [arg_utils.py:602] HF_HUB_OFFLINE is True, replace model_id [vllm-ascend/DeepSeek-V3.2-W8A8] to model_path [/root/.cache/modelscope/hub/models/vllm-ascend/DeepSeek-V3___2-W8A8]
2026-02-25T22:41:23.3653361Z The argument `trust_remote_code` is to be used with Auto classes. It has no effect here and is ignored.
2026-02-25T22:41:23.3654121Z [2026-02-25 22:41:23] WARNING configuration_utils.py:697: The argument `trust_remote_code` is to be used with Auto classes. It has no effect here and is ignored.
2026-02-25T22:41:23.3707234Z The argument `trust_remote_code` is to be used with Auto classes. It has no effect here and is ignored.
2026-02-25T22:41:23.3708155Z [2026-02-25 22:41:23] WARNING configuration_utils.py:697: The argument `trust_remote_code` is to be used with Auto classes. It has no effect here and is ignored.
2026-02-25T22:41:23.3716937Z The argument `trust_remote_code` is to be used with Auto classes. It has no effect here and is ignored.
2026-02-25T22:41:23.3717641Z [2026-02-25 22:41:23] WARNING configuration_utils.py:697: The argument `trust_remote_code` is to be used with Auto classes. It has no effect here and is ignored.
2026-02-25T22:41:23.3723623Z You are using a model of type deepseek_v32 to instantiate a model of type deepseek_v3. This is not supported for all configurations of models and can yield errors.
2026-02-25T22:41:23.3724744Z [2026-02-25 22:41:23] WARNING configuration_utils.py:635: You are using a model of type deepseek_v32 to instantiate a model of type deepseek_v3. This is not supported for all configurations of models and can yield errors.
2026-02-25T22:41:23.3930683Z INFO 02-25 22:41:23 [model.py:541] Resolved architecture: DeepseekV32ForCausalLM
2026-02-25T22:41:23.3931493Z INFO 02-25 22:41:23 [model.py:1561] Using max model len 8192
2026-02-25T22:41:23.6406793Z WARNING 02-25 22:41:23 [speculative.py:270] method `deepseek_mtp` is deprecated and replaced with mtp.
2026-02-25T22:41:23.6408293Z The argument `trust_remote_code` is to be used with Auto classes. It has no effect here and is ignored.
2026-02-25T22:41:23.6409134Z [2026-02-25 22:41:23] WARNING configuration_utils.py:697: The argument `trust_remote_code` is to be used with Auto classes. It has no effect here and is ignored.
2026-02-25T22:41:23.6417170Z The argument `trust_remote_code` is to be used with Auto classes. It has no effect here and is ignored.
2026-02-25T22:41:23.6417911Z [2026-02-25 22:41:23] WARNING configuration_utils.py:697: The argument `trust_remote_code` is to be used with Auto classes. It has no effect here and is ignored.
2026-02-25T22:41:23.6424298Z You are using a model of type deepseek_v32 to instantiate a model of type deepseek_v3. This is not supported for all configurations of models and can yield errors.
2026-02-25T22:41:23.6425248Z [2026-02-25 22:41:23] WARNING configuration_utils.py:635: You are using a model of type deepseek_v32 to instantiate a model of type deepseek_v3. This is not supported for all configurations of models and can yield errors.
2026-02-25T22:41:23.6516928Z INFO 02-25 22:41:23 [model.py:541] Resolved architecture: DeepSeekMTPModel
2026-02-25T22:41:23.6519125Z INFO 02-25 22:41:23 [model.py:1561] Using max model len 163840
2026-02-25T22:41:23.6520047Z WARNING 02-25 22:41:23 [speculative.py:388] Enabling num_speculative_tokens > 1 will runmultiple times of forward on same MTP layer,which may result in lower acceptance rate
2026-02-25T22:41:23.6521642Z INFO 02-25 22:41:23 [scheduler.py:226] Chunked prefill is enabled with max_num_batched_tokens=8192.
2026-02-25T22:41:23.9834344Z INFO 02-25 22:41:23 [vllm.py:624] Asynchronous scheduling is enabled.
2026-02-25T22:41:23.9835003Z INFO 02-25 22:41:23 [vllm.py:634] Disabling NCCL for DP synchronization when using async scheduling.
2026-02-25T22:41:23.9835660Z WARNING 02-25 22:41:23 [platform.py:730] Speculative quantization is set but Ascend automatically uses the main model's quantization method. Resetting to None.
2026-02-25T22:41:23.9836495Z WARNING 02-25 22:41:23 [platform.py:771] Ignored parameter 'use_trtllm_ragged_deepseek_prefill'. This is a GPU-specific feature not supported on Ascend. Resetting to False.
2026-02-25T22:41:23.9838076Z INFO 02-25 22:41:23 [ascend_config.py:412] Dynamic EPLB is False
2026-02-25T22:41:23.9838635Z INFO 02-25 22:41:23 [ascend_config.py:413] The number of redundant experts is 0
2026-02-25T22:41:23.9839550Z INFO 02-25 22:41:23 [ascend_config.py:54] Linear layer sharding enabled with config: ['q_b_proj', 'o_proj']. Note: This feature works optimally with FLASHCOMM2 and DSA-CP enabled; using it without these features may result in significant performance degradation.
2026-02-25T22:41:23.9840732Z WARNING 02-25 22:41:23 [vllm.py:1062] Batch sizes [3, 6, 9, 12] are removed because they are not multiple of tp_size 8 when sequence parallelism is enabled
2026-02-25T22:41:23.9856330Z Traceback (most recent call last):
2026-02-25T22:41:23.9856792Z   File "/usr/local/python3.11.14/bin/vllm", line 7, in <module>
2026-02-25T22:41:23.9857088Z     sys.exit(main())
2026-02-25T22:41:23.9857346Z              ^^^^^^
2026-02-25T22:41:23.9857637Z   File "/vllm-workspace/vllm/vllm/entrypoints/cli/main.py", line 73, in main
2026-02-25T22:41:23.9858014Z     args.dispatch_function(args)
2026-02-25T22:41:23.9858394Z   File "/vllm-workspace/vllm/vllm/entrypoints/cli/serve.py", line 108, in cmd
2026-02-25T22:41:23.9858753Z     run_multi_api_server(args)
2026-02-25T22:41:23.9859131Z   File "/vllm-workspace/vllm/vllm/entrypoints/cli/serve.py", line 232, in run_multi_api_server
2026-02-25T22:41:23.9859860Z     vllm_config = engine_args.create_engine_config(usage_context=usage_context)
2026-02-25T22:41:23.9860229Z                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-02-25T22:41:23.9860614Z   File "/vllm-workspace/vllm/vllm/engine/arg_utils.py", line 1754, in create_engine_config
2026-02-25T22:41:23.9861021Z     config = VllmConfig(
2026-02-25T22:41:23.9861253Z              ^^^^^^^^^^^
2026-02-25T22:41:23.9861661Z   File "/usr/local/python3.11.14/lib/python3.11/site-packages/pydantic/_internal/_dataclasses.py", line 121, in __init__
2026-02-25T22:41:23.9868421Z     s.__pydantic_validator__.validate_python(ArgsKwargs(args, kwargs), self_instance=s)
2026-02-25T22:41:23.9884350Z pydantic_core._pydantic_core.ValidationError: 1 validation error for VllmConfig
2026-02-25T22:41:23.9885137Z   Assertion failed, cudagraph_capture_sizes [3, 6, 9, 12] does not containvalues that are multiples of tp_size 8 [type=assertion_error, input_value=ArgsKwargs((), {'model_co...timizationLevel.O2: 2>}), input_type=ArgsKwargs]
2026-02-25T22:41:23.9885939Z     For further information visit https://errors.pydantic.dev/2.12/v/assertion_error
2026-02-25T22:41:24.0391066Z [ERROR] 2026-02-25-22:41:24 (PID:978, Device:-1, RankID:-1) ERR99999 UNKNOWN applicaiton exception
2026-02-25T22:41:24.3093678Z sys:1: DeprecationWarning: builtin type swigvarlink has no __module__ attribute
2026-02-25T22:41:28.9761464Z FAILED
2026-02-25T22:41:28.9761764Z 
2026-02-25T22:41:28.9761961Z =================================== FAILURES ===================================
2026-02-25T22:41:28.9762453Z _______________ test_models[2-8-vllm-ascend/DeepSeek-V3.2-W8A8] ________________
2026-02-25T22:41:28.9762733Z 
2026-02-25T22:41:28.9762874Z model = 'vllm-ascend/DeepSeek-V3.2-W8A8', tp_size = 8, dp_size = 2
2026-02-25T22:41:28.9763095Z 
2026-02-25T22:41:28.9763199Z     @pytest.mark.asyncio
2026-02-25T22:41:28.9763481Z     @pytest.mark.parametrize("model", MODELS)
2026-02-25T22:41:28.9764025Z     @pytest.mark.parametrize("tp_size", TENSOR_PARALLELS)
2026-02-25T22:41:28.9764371Z     @pytest.mark.parametrize("dp_size", DATA_PARALLELS)
2026-02-25T22:41:28.9764788Z     async def test_models(model: str, tp_size: int, dp_size: int) -> None:
2026-02-25T22:41:28.9765160Z         port = get_open_port()
2026-02-25T22:41:28.9765405Z         env_dict = {
2026-02-25T22:41:28.9765621Z             "HCCL_OP_EXPANSION_MODE": "AIV",
2026-02-25T22:41:28.9765899Z             "OMP_PROC_BIND": "false",
2026-02-25T22:41:28.9766210Z             "OMP_NUM_THREADS": "1",
2026-02-25T22:41:28.9766445Z             "HCCL_BUFFSIZE": "1024",
2026-02-25T22:41:28.9766709Z             "VLLM_ASCEND_ENABLE_MLAPO": "1",
2026-02-25T22:41:28.9768201Z             "PYTORCH_NPU_ALLOC_CONF": "expandable_segments:True",
2026-02-25T22:41:28.9768547Z             "VLLM_ASCEND_ENABLE_FLASHCOMM1": "1",
2026-02-25T22:41:28.9768784Z         }
2026-02-25T22:41:28.9768978Z     
2026-02-25T22:41:28.9769174Z         server_args = [
2026-02-25T22:41:28.9769465Z             "--enable-expert-parallel", "--tensor-parallel-size",
2026-02-25T22:41:28.9769933Z             str(tp_size), "--data-parallel-size",
2026-02-25T22:41:28.9770202Z             str(dp_size), "--port",
2026-02-25T22:41:28.9770524Z             str(port), "--max-model-len", "8192", "--max-num-batched-tokens",
2026-02-25T22:41:28.9770885Z             "8192", "--max-num-seqs", "4", "--trust-remote-code", "--quantization",
2026-02-25T22:41:28.9771322Z             "ascend", "--gpu-memory-utilization", "0.92", "--compilation-config",
2026-02-25T22:41:28.9771725Z             '{"cudagraph_capture_sizes":[3, 6, 9, 12], "cudagraph_mode":"FULL_DECODE_ONLY"}',
2026-02-25T22:41:28.9772179Z             "--speculative-config",
2026-02-25T22:41:28.9772523Z             '{"num_speculative_tokens": 2, "method":"deepseek_mtp"}',
2026-02-25T22:41:28.9772809Z             "--additional-config",
2026-02-25T22:41:28.9773089Z             '{"layer_sharding": ["q_b_proj", "o_proj"]}',
2026-02-25T22:41:28.9773560Z             "--reasoning-parser", "deepseek_v3", "--tokenizer_mode", "deepseek_v32"
2026-02-25T22:41:28.9773956Z         ]
2026-02-25T22:41:28.9774165Z         request_keyword_args: dict[str, Any] = {
2026-02-25T22:41:28.9774443Z             **api_keyword_args,
2026-02-25T22:41:28.9774674Z         }
2026-02-25T22:41:28.9774874Z >       with RemoteOpenAIServer(model,
2026-02-25T22:41:28.9775149Z                                 server_args,
2026-02-25T22:41:28.9775385Z                                 server_port=port,
2026-02-25T22:41:28.9775661Z                                 env_dict=env_dict,
2026-02-25T22:41:28.9775915Z                                 auto_port=False) as server:
2026-02-25T22:41:28.9776121Z 
2026-02-25T22:41:28.9776280Z tests/e2e/nightly/single_node/models/test_deepseek_v3_2_w8a8.py:95: 
2026-02-25T22:41:28.9776653Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2026-02-25T22:41:28.9776924Z tests/e2e/conftest.py:306: in __init__
2026-02-25T22:41:28.9777215Z     self._wait_for_multiple_servers(
2026-02-25T22:41:28.9777537Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2026-02-25T22:41:28.9777736Z 
2026-02-25T22:41:28.9777908Z self = <tests.e2e.conftest.RemoteOpenAIServer object at 0xffff204d6410>
2026-02-25T22:41:28.9778364Z targets = [('0.0.0.0', 'http://0.0.0.0:54955/health')], timeout = 2800
2026-02-25T22:41:28.9778641Z log_interval = 30.0
2026-02-25T22:41:28.9778757Z 
2026-02-25T22:41:28.9778872Z     def _wait_for_multiple_servers(self,
2026-02-25T22:41:28.9779122Z                                    targets,
2026-02-25T22:41:28.9779388Z                                    timeout: float,
2026-02-25T22:41:28.9779706Z                                    log_interval: float = 30.0):
2026-02-25T22:41:28.9780021Z         """
2026-02-25T22:41:28.9780244Z         targets: List[(node_ip, url)]
2026-02-25T22:41:28.9780463Z         log_interval
2026-02-25T22:41:28.9780709Z         """
2026-02-25T22:41:28.9781032Z         start = time.time()
2026-02-25T22:41:28.9781260Z         client = requests
2026-02-25T22:41:28.9781486Z     
2026-02-25T22:41:28.9781730Z         ready = {node_ip: False for node_ip, _ in targets}
2026-02-25T22:41:28.9781972Z     
2026-02-25T22:41:28.9782310Z         last_log_time = 0.0
2026-02-25T22:41:28.9782507Z     
2026-02-25T22:41:28.9782745Z         while True:
2026-02-25T22:41:28.9783069Z             now = time.time()
2026-02-25T22:41:28.9783281Z             all_ready = True
2026-02-25T22:41:28.9783580Z             should_log = (now - last_log_time) >= log_interval
2026-02-25T22:41:28.9783861Z     
2026-02-25T22:41:28.9784096Z             for node_ip, url in targets:
2026-02-25T22:41:28.9784360Z                 if ready[node_ip]:
2026-02-25T22:41:28.9784567Z                     continue
2026-02-25T22:41:28.9784805Z     
2026-02-25T22:41:28.9784972Z                 try:
2026-02-25T22:41:28.9785190Z                     resp = client.get(url)
2026-02-25T22:41:28.9785440Z                     if resp.status_code == 200:
2026-02-25T22:41:28.9785737Z                         ready[node_ip] = True
2026-02-25T22:41:28.9786030Z                         logger.info(f"[READY] Node {node_ip} is ready.")
2026-02-25T22:41:28.9786329Z                 except RequestException:
2026-02-25T22:41:28.9786697Z                     all_ready = False
2026-02-25T22:41:28.9786908Z                     if should_log:
2026-02-25T22:41:28.9787273Z                         logger.debug(f"[WAIT] {url}: connection failed")
2026-02-25T22:41:28.9787540Z     
2026-02-25T22:41:28.9787737Z                     # check unexpected exit
2026-02-25T22:41:28.9787995Z                     result = self._poll()
2026-02-25T22:41:28.9788293Z                     if result is not None and result != 0:
2026-02-25T22:41:28.9788562Z >                       raise RuntimeError(
2026-02-25T22:41:28.9788843Z                             f"Server at {node_ip} exited unexpectedly."
2026-02-25T22:41:28.9789141Z                         ) from None
2026-02-25T22:41:28.9789503Z E                       RuntimeError: Server at 0.0.0.0 exited unexpectedly.
2026-02-25T22:41:28.9789843Z 
2026-02-25T22:41:28.9789967Z tests/e2e/conftest.py:399: RuntimeError
2026-02-25T22:41:28.9790302Z ------------------------------ Captured log call -------------------------------
2026-02-25T22:41:28.9792206Z INFO     tests.e2e.conftest:conftest.py:241 Starting server with command: vllm serve vllm-ascend/DeepSeek-V3.2-W8A8 --enable-expert-parallel --tensor-parallel-size 8 --data-parallel-size 2 --port 54955 --max-model-len 8192 --max-num-batched-tokens 8192 --max-num-seqs 4 --trust-remote-code --quantization ascend --gpu-memory-utilization 0.92 --compilation-config {"cudagraph_capture_sizes":[3, 6, 9, 12], "cudagraph_mode":"FULL_DECODE_ONLY"} --speculative-config {"num_speculative_tokens": 2, "method":"deepseek_mtp"} --additional-config {"layer_sharding": ["q_b_proj", "o_proj"]} --reasoning-parser deepseek_v3 --tokenizer_mode deepseek_v32
2026-02-25T22:41:28.9794192Z =============================== warnings summary ===============================
2026-02-25T22:41:28.9794513Z <frozen importlib._bootstrap>:241
2026-02-25T22:41:28.9794927Z   <frozen importlib._bootstrap>:241: DeprecationWarning: builtin type SwigPyPacked has no __module__ attribute
2026-02-25T22:41:28.9795257Z 
2026-02-25T22:41:28.9795369Z <frozen importlib._bootstrap>:241
2026-02-25T22:41:28.9795792Z   <frozen importlib._bootstrap>:241: DeprecationWarning: builtin type SwigPyObject has no __module__ attribute
2026-02-25T22:41:28.9796107Z 
2026-02-25T22:41:28.9796368Z ../../usr/local/python3.11.14/lib/python3.11/site-packages/transformers/models/auto/image_processing_auto.py:647
2026-02-25T22:41:28.9797433Z   /usr/local/python3.11.14/lib/python3.11/site-packages/transformers/models/auto/image_processing_auto.py:647: FutureWarning: The image_processor_class argument is deprecated and will be removed in v4.42. Please use `slow_image_processor_class`, or `fast_image_processor_class` instead
2026-02-25T22:41:28.9798331Z     warnings.warn(
2026-02-25T22:41:28.9798445Z 
2026-02-25T22:41:28.9798695Z ../../usr/local/python3.11.14/lib/python3.11/site-packages/torch_npu/dynamo/torchair/__init__.py:8
2026-02-25T22:41:28.9799526Z   /usr/local/python3.11.14/lib/python3.11/site-packages/torch_npu/dynamo/torchair/__init__.py:8: DeprecationWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html
2026-02-25T22:41:28.9800348Z     import pkg_resources
2026-02-25T22:41:28.9800481Z 
2026-02-25T22:41:28.9800716Z -- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
2026-02-25T22:41:28.9801110Z =========================== short test summary info ============================
2026-02-25T22:41:28.9801822Z FAILED tests/e2e/nightly/single_node/models/test_deepseek_v3_2_w8a8.py::test_models[2-8-vllm-ascend/DeepSeek-V3.2-W8A8] - RuntimeError: Server at 0.0.0.0 exited unexpectedly.
2026-02-25T22:41:28.9802594Z ======================== 1 failed, 4 warnings in 15.99s ========================
2026-02-25T22:41:30.7819320Z ##[error]Error: failed to run script step: Error: command terminated with non-zero exit code: command terminated with exit code 1
2026-02-25T22:41:30.7858999Z ##[error]Process completed with exit code 1.
2026-02-25T22:41:30.7952751Z ##[error]Executing the custom container implementation failed. Please contact your self hosted runner administrator.
2026-02-25T22:41:30.7998002Z ##[group]Run '/home/runner/k8s/index.js'
2026-02-25T22:41:30.7998810Z shell: /home/runner/externals/node20/bin/node {0}
2026-02-25T22:41:30.7999134Z ##[endgroup]
2026-02-25T22:41:31.2643851Z Cleaning up orphan processes
